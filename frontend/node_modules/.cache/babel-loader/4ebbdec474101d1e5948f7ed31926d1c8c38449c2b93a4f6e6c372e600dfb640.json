{"ast":null,"code":"import React,{useState}from\"react\";// Komponen ini sekarang \"dumb\", hanya menerima data dan fungsi dari parent\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Recent=_ref=>{let{transactions,type,onDelete,onEdit}=_ref;// Langsung gunakan props, tidak perlu state internal untuk 'rows'\nconst sortedTransactions=[...transactions].sort((a,b)=>new Date(b.transaction_date)-new Date(a.transaction_date));const rowsPerPage=6;const[currentPage,setCurrentPage]=useState(1);const displayedRows=sortedTransactions.slice(0,currentPage*rowsPerPage);const hasMoreRows=sortedTransactions.length>displayedRows.length;const thirdColumnTitle=type==='Budget'?'Kategori':'Akun';return/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 p-4 bg-none rounded shadow-md w-full bg-gray-200\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table-auto w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-200 text-left\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1 border-black/40 text-black/50 border-l-transparent\",children:\"Nama\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1 border-black/40 text-black/50\",children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1 border-black/40 text-black/50\",children:thirdColumnTitle}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1 border-black/40 text-black/50\",children:\"Tanggal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1 border-black/40 text-black/50 border-r-transparent\",children:\"Aksi\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[displayedRows.map(row=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1 bg-gray-200 border-opacity-40 border-r-black border-b-black\",children:row.description}),/*#__PURE__*/_jsxs(\"td\",{className:\"border px-2 py-1 bg-gray-200 border-opacity-40 border-r-black border-b-black text-black/60\",children:[\"Rp \",Number(row.amount).toLocaleString('id-ID')]}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1 bg-gray-200 border-opacity-40 border-r-black border-b-black text-black/60\",children:type==='Budget'?row.category_name||'-':row.account_name||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1 bg-gray-200 border-opacity-40 border-b-black text-black/60\",children:new Date(row.transaction_date).toLocaleDateString(\"id-ID\",{day:'numeric',month:'long',year:'numeric'})}),/*#__PURE__*/_jsxs(\"td\",{className:\"border px-2 py-1 text-center bg-gray-200 border-opacity-40 border-b-black\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-sm text-blue-600 hover:underline\",onClick:()=>onEdit(row),title:\"Edit\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"ml-2 text-sm text-red-600 hover:underline\",onClick:()=>onDelete(row.id),title:\"Hapus\",children:\"Hapus\"})]})]},row.id)),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"border px-2 text-left border-b-black/40\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onEdit({type:type==='Budget'?'expense':'income'}),className:\"text-blue-600 hover:text-blue-800 text-sm font-semibold\",children:[\"+ Tambah \",type==='Budget'?'Pengeluaran':'Pendapatan']})})}),hasMoreRows&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"text-center py-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>prev+1),className:\"text-gray-500 hover:text-gray-800 text-xs\",children:\"Tampilkan Lebih Banyak\"})})})]})]})});};export default Recent;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Recent","_ref","transactions","type","onDelete","onEdit","sortedTransactions","sort","a","b","Date","transaction_date","rowsPerPage","currentPage","setCurrentPage","displayedRows","slice","hasMoreRows","length","thirdColumnTitle","className","children","map","row","description","Number","amount","toLocaleString","category_name","account_name","toLocaleDateString","day","month","year","onClick","title","id","colSpan","prev"],"sources":["D:/xampp/htdocs/back/finance-trackerB/frontend/src/RecentTransaction.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\n// Komponen ini sekarang \"dumb\", hanya menerima data dan fungsi dari parent\r\nconst Recent = ({ transactions, type, onDelete, onEdit }) => {\r\n  // Langsung gunakan props, tidak perlu state internal untuk 'rows'\r\n  const sortedTransactions = [...transactions].sort((a, b) => new Date(b.transaction_date) - new Date(a.transaction_date));\r\n\r\n  const rowsPerPage = 6;\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const displayedRows = sortedTransactions.slice(0, currentPage * rowsPerPage);\r\n  const hasMoreRows = sortedTransactions.length > displayedRows.length;\r\n\r\n  const thirdColumnTitle = type === 'Budget' ? 'Kategori' : 'Akun';\r\n\r\n  return (\r\n    <div className=\"mt-3 p-4 bg-none rounded shadow-md w-full bg-gray-200\">\r\n      <table className=\"table-auto w-full text-sm\">\r\n        <thead>\r\n          <tr className=\"bg-gray-200 text-left\">\r\n            <th className=\"border px-2 py-1 border-black/40 text-black/50 border-l-transparent\">Nama</th>\r\n            <th className=\"border px-2 py-1 border-black/40 text-black/50\">Total</th>\r\n            <th className=\"border px-2 py-1 border-black/40 text-black/50\">{thirdColumnTitle}</th>\r\n            <th className=\"border px-2 py-1 border-black/40 text-black/50\">Tanggal</th>\r\n            <th className=\"border px-2 py-1 border-black/40 text-black/50 border-r-transparent\">Aksi</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {/* Tampilkan data langsung dari 'displayedRows' */}\r\n          {displayedRows.map((row) => (\r\n            <tr key={row.id}>\r\n              <td className=\"border px-2 py-1 bg-gray-200 border-opacity-40 border-r-black border-b-black\">{row.description}</td>\r\n              <td className=\"border px-2 py-1 bg-gray-200 border-opacity-40 border-r-black border-b-black text-black/60\">\r\n                Rp {Number(row.amount).toLocaleString('id-ID')}\r\n              </td>\r\n              <td className=\"border px-2 py-1 bg-gray-200 border-opacity-40 border-r-black border-b-black text-black/60\">\r\n                {type === 'Budget' ? (row.category_name || '-') : (row.account_name || '-')}\r\n              </td>\r\n              <td className=\"border px-2 py-1 bg-gray-200 border-opacity-40 border-b-black text-black/60\">\r\n                {new Date(row.transaction_date).toLocaleDateString(\"id-ID\", { day: 'numeric', month: 'long', year: 'numeric' })}\r\n              </td>\r\n              <td className=\"border px-2 py-1 text-center bg-gray-200 border-opacity-40 border-b-black\">\r\n                <button\r\n                  className=\"text-sm text-blue-600 hover:underline\"\r\n                  onClick={() => onEdit(row)}\r\n                  title=\"Edit\"\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  className=\"ml-2 text-sm text-red-600 hover:underline\"\r\n                  onClick={() => onDelete(row.id)}\r\n                  title=\"Hapus\"\r\n                >\r\n                  Hapus\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n\r\n          {/* Tombol Tambah yang sudah fungsional */}\r\n          <tr>\r\n            <td colSpan=\"5\" className=\"border px-2 text-left border-b-black/40\">\r\n                <button\r\n                    onClick={() => onEdit({ type: type === 'Budget' ? 'expense' : 'income' })}\r\n                    className=\"text-blue-600 hover:text-blue-800 text-sm font-semibold\"\r\n                >\r\n                    + Tambah {type === 'Budget' ? 'Pengeluaran' : 'Pendapatan'}\r\n                </button>\r\n            </td>\r\n          </tr>\r\n          \r\n          {/* Tombol Tampilkan Lebih Banyak */}\r\n          {hasMoreRows && (\r\n            <tr>\r\n              <td colSpan=\"5\" className=\"text-center py-2\">\r\n                <button\r\n                  onClick={() => setCurrentPage((prev) => prev + 1)}\r\n                  className=\"text-gray-500 hover:text-gray-800 text-xs\"\r\n                >\r\n                  Tampilkan Lebih Banyak\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Recent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\back\\\\finance-trackerB\\\\frontend\\\\src\\\\HalamanUtama.js\",\n  _s = $RefreshSig$();\nimport ModalAddMonth from \"./ModalAddMonth\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport ModalBudget from './ModalBudget';\nimport IconPickerModal from \"./IconPickerModal\";\nimport Recent from './RecentTransaction';\nimport FilterTransaksi from './FilterTransaksi';\nimport ChartKeuangan from './ChartKeuangan';\nimport ModalTransaksi from './ModalTransaksi';\nimport ModalKategori from './ModalKategori';\nimport ModalAkun from './ModalAkun';\nimport DropdownAksi from \"./DropdownButton\";\nimport { getTransactions, getBudgets, getCategories, deleteTransaction, deleteCategory, setBudget, createTransaction, updateTransaction, createCategory, updateCategory, createAccount, getAccounts } from './apiservice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const navigate = useNavigate();\n  const [accounts, setAccounts] = useState([]);\n  const [budgetsByMonth, setBudgetsByMonth] = useState({});\n  const [transactions, setTransactions] = useState([]);\n  const [pendapatan, setPendapatan] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [isTransactionModalOpen, setTransactionModalOpen] = useState(false);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n  const [isCategoryModalOpen, setCategoryModalOpen] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  //Variabel\n  const [selectedMonth, setSelectedMonth] = useState(() => {\n    const d = new Date();\n    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`;\n  });\n  const [isLoading, setIsLoading] = useState(true);\n  const [activeAddMonthTarget, setActiveAddMonthTarget] = useState(null);\n  const [isModalAddMonthOpen, setIsModalAddMonthOpen] = useState(false);\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [showIconPicker, setShowIconPicker] = useState(false);\n  const [selectedIcon, setSelectedIcon] = useState(null);\n  const [iconTargetId, setIconTargetId] = useState(null);\n  const [selectedTab, setSelectedTab] = useState(\"Terkini\");\n  const [selectedTabPendapatan, setSelectedTabPendapatan] = useState(\"Terkini\");\n  const budgets = budgetsByMonth[selectedMonth] || [];\n  const Budgetperpage = 5;\n  const [currentBudget, setCurrentBudget] = useState(1);\n  const displayedBudgets = budgets.slice(0, currentBudget * Budgetperpage);\n  const hasMoreBudget = budgets.length > displayedBudgets.length;\n  const [selectedItem, setSelectedItem] = useState(null); // bisa untuk akun atau budget\n  const [modalType, setModalType] = useState(null); // \"budget\" atau \"akun\"\n  const [iconTargetType, setIconTargetType] = useState(null);\n\n  //Fungsi atau Method\n  const fetchData = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const [year, month] = selectedMonth.split('-');\n      const [accountData, budgetData, transactionData, categoryData] = await Promise.all([getAccounts(), getBudgets(year, month), getTransactions(), getCategories()]);\n      setAccounts(accountData);\n      // 3. Proses dan set data ke state\n      const budgetMap = {\n        [selectedMonth]: budgetData\n      };\n      setBudgetsByMonth(budgetMap);\n      const expenseTxs = transactionData.filter(tx => tx.type === 'expense'); //\n      const incomeTxs = transactionData.filter(tx => tx.type === 'income'); //\n      setTransactions(expenseTxs);\n      setPendapatan(incomeTxs);\n      setCategories(categoryData);\n    } catch (error) {\n      console.error(\"Gagal mengambil data:\", error);\n      // Di sini Anda bisa menambahkan logika redirect ke halaman login jika token tidak valid\n    } finally {\n      setIsLoading(false);\n    }\n  }, [selectedMonth]);\n  // Panggil fetchData saat komponen mount atau saat bulan diganti\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n  const handleAddMonthWrapper = newMonth => {\n    // Cukup sisakan bagian untuk budget\n    if (activeAddMonthTarget === \"budget\") {\n      handleAddMonth(newMonth);\n    }\n    setIsModalAddMonthOpen(false);\n  };\n  const handleTransactionsChange = updatedRows => {\n    setTransactions(updatedRows);\n  };\n  const handlePendaptanChange = updatedRows => {\n    setPendapatan(updatedRows);\n  };\n\n  // Kode handleIconSelect yang sudah diperbaiki\n  const handleIconSelect = iconPath => {\n    setShowIconPicker(false);\n    setSelectedIcon(iconPath);\n\n    // Kita hanya mempertahankan logika untuk 'budget'\n    if (iconTargetId !== null && iconTargetType === \"budget\") {\n      setBudgetsByMonth(prev => ({\n        ...prev,\n        [selectedMonth]: prev[selectedMonth].map(b => b.id === iconTargetId ? {\n          ...b,\n          icon: iconPath\n        } : b)\n      }));\n    }\n\n    // Reset target setelah selesai\n    setIconTargetId(null);\n    setIconTargetType(null);\n  };\n  function handleAddMonth(newMonth) {\n    if (budgetsByMonth[newMonth]) {\n      alert(\"Maaf, bulan sudah ada!\");\n      return;\n    }\n    setBudgetsByMonth(prev => ({\n      ...prev,\n      [newMonth]: []\n    }));\n    setSelectedMonth(newMonth);\n    setModalOpen(false);\n  }\n  {/*function handleAddMonthAkun(newMonth) {\r\n   if (AkunByMonth[newMonth]) {\r\n    alert(\"Maaf, bulan sudah ada!\");\r\n    return;\r\n   }*/}\n  const handleAddBudget = () => {\n    setSelectedItem(null);\n    setModalType(\"budget\");\n    setModalOpen(true);\n  };\n  const handleEdit = (item, type) => {\n    setSelectedItem(item);\n    setModalType(type);\n    // if (type === \"budget\") {\n    //const akunList = AkunByMonth[selectedMonth] || [];\n    // Salin akun dan kurangi used sementara jika item sedang diedit\n    // const akunTemp = akunList.map((akun) => {\n    //   const dikurang = item?.akunDipakai?.[akun.name] || 0;\n    //   return {\n    //    ...akun,\n    //     used: (akun.used || 0) - dikurang,\n    //  };\n    // });\n    //  setAkunSementara(akunTemp); // ← pakai di sini\n    // }\n    setModalOpen(true);\n  };\n  const handleSaveBudget = async data => {\n    try {\n      // Data dari modal harus mengandung: category_id, amount, year, month\n      await setBudget(data);\n      fetchData(); // Refresh data\n      setModalOpen(false); // Tutup modal\n      alert('Budget berhasil disimpan');\n    } catch (error) {\n      console.error(\"Gagal simpan budget:\", error);\n      alert(error.message);\n    }\n  };\n  const handleDeleteTransaction = async transactionId => {\n    if (window.confirm(\"Anda yakin ingin menghapus transaksi ini?\")) {\n      try {\n        await deleteTransaction(transactionId);\n        // Update state secara manual agar UI cepat merespons\n        setTransactions(prev => prev.filter(tx => tx.id !== transactionId));\n        setPendapatan(prev => prev.filter(p => p.id !== transactionId));\n        alert('Transaksi berhasil dihapus.');\n      } catch (error) {\n        console.error(\"Gagal menghapus transaksi:\", error);\n        alert(error.message);\n      }\n    }\n  };\n  const handleHapusKategori = async categoryId => {\n    if (window.confirm(\"Yakin ingin menghapus kategori ini?\")) {\n      try {\n        await deleteCategory(categoryId); // <-- PERBAIKI DI SINI\n        fetchData();\n        alert('Kategori berhasil dihapus.');\n      } catch (error) {\n        console.error(\"Gagal hapus kategori:\", error);\n        alert(error.message);\n      }\n    }\n  };\n  // Untuk membuka modal dalam mode 'tambah'\n  const handleOpenAddTransactionModal = (type = 'expense') => {\n    setSelectedTransaction({\n      type\n    }); // Kosongkan data, karena ini mode tambah baru\n    setTransactionModalOpen(true);\n  };\n\n  // Untuk membuka modal dalam mode 'edit'\n  const handleOpenEditTransactionModal = transaction => {\n    setSelectedTransaction(transaction); // Isi dengan data transaksi yang akan diedit\n    setTransactionModalOpen(true);\n  };\n\n  // Fungsi yang dipanggil saat tombol 'Simpan' di modal ditekan\n  const handleSaveTransaction = async data => {\n    try {\n      if (data.id) {\n        // Jika data punya id, artinya kita sedang UPDATE (mengubah)\n        const {\n          type,\n          ...updateData\n        } = data; // Backend tidak mengizinkan 'type' diubah saat edit\n        await updateTransaction(data.id, updateData);\n      } else {\n        // Jika tidak punya id, artinya kita sedang CREATE (tambah baru)\n        await createTransaction(data);\n      }\n      setTransactionModalOpen(false); // Tutup modal setelah berhasil\n      fetchData(); // Ambil data terbaru dari server agar tampilan update\n      alert('Transaksi berhasil disimpan!');\n    } catch (error) {\n      console.error('Gagal menyimpan transaksi:', error);\n      alert(error.message);\n    }\n  };\n  const handleOpenAddCategoryModal = () => {\n    setSelectedCategory(null);\n    setCategoryModalOpen(true);\n  };\n  const handleOpenEditCategoryModal = category => {\n    // Data dari API budget memiliki 'category_id' dan 'category_name'\n    // Kita sesuaikan agar konsisten\n    setSelectedCategory({\n      id: category.category_id,\n      name: category.category_name\n    });\n    setCategoryModalOpen(true);\n  };\n  const handleSaveCategory = async data => {\n    try {\n      if (data.id) {\n        // Mode UPDATE\n        await updateCategory(data.id, {\n          name: data.name\n        });\n      } else {\n        // Mode CREATE\n        await createCategory({\n          name: data.name\n        });\n      }\n      setCategoryModalOpen(false);\n      fetchData(); // Refresh data\n      alert('Kategori berhasil disimpan!');\n    } catch (error) {\n      console.error('Gagal menyimpan kategori:', error);\n      alert(error.message);\n    }\n  };\n  const [isAccountModalOpen, setAccountModalOpen] = useState(false);\n  const handleOpenAddAccountModal = () => setAccountModalOpen(true);\n  const handleSaveAccount = async data => {\n    try {\n      await createAccount(data);\n      setAccountModalOpen(false);\n      fetchData();\n      alert('Akun baru berhasil ditambahkan!');\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n  const CircularProgress = ({\n    percentage\n  }) => {\n    const pct = Number(percentage); // pastikan tipe number\n    const radius = 20;\n    const stroke = 4;\n    const normalized = radius - stroke / 2;\n    const circumference = 2 * Math.PI * normalized;\n\n    // Batasi offset hanya sampai 100%\n    const clamped = Math.min(pct, 100); // agar offset mentok di 100%\n    const offset = circumference * (1 - clamped / 100);\n    const color = pct > 99 ? 'stroke-red-500' : pct > 50 ? 'stroke-yellow-400' : pct > 0 ? 'stroke-green-400' : 'stroke-transparent';\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5\",\n      viewBox: \"0 0 48 48\",\n      children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n        className: \"stroke-gray-200\",\n        strokeWidth: stroke,\n        fill: \"transparent\",\n        r: normalized,\n        cx: \"24\",\n        cy: \"24\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n        className: `transition-all duration-300 ${color}`,\n        strokeWidth: stroke,\n        fill: \"transparent\",\n        r: normalized,\n        cx: \"24\",\n        cy: \"24\",\n        strokeDasharray: circumference,\n        strokeDashoffset: offset,\n        strokeLinecap: \"round\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this);\n  };\n  function formatMonth(monthStr) {\n    // monthStr: \"2024-01\"\n    const [year, month] = monthStr.split(\"-\");\n    const monthNames = [\"Januari\", \"Februari\", \"Maret\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Agustus\", \"September\", \"Oktober\", \"November\", \"Desember\"];\n    return `${monthNames[parseInt(month, 10) - 1]} ${year}`;\n  }\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 12\n    }, this); // Tampilkan loading indicator\n  }\n  //Tampilan\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-col items-start justify-center min-h-screen bg-gray-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full bg-gray-700 shadow-md text-center py-9 md:py-32 lg:py-32\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"font-semibold text-white mb-4 text-4xl md:text-6xl lg:text-7xl\",\n        children: \"KeuanganKu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center mt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-flex rounded-full overflow-hidden shadow-md border border-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-gray-500 text-white px-6 py-2 text-sm md:text-base font-medium rounded-l-full\",\n          children: \"Transaksi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/hutang\"),\n          className: \"bg-white text-gray-500 hover:bg-gray-100 px-6 py-2 text-sm md:text-base font-medium rounded-r-full\",\n          children: \"Hutang\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-10 px-10 flex flex-row bg-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col w-1/6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-500 rounded-md text-[13px] md:text-base lg:text-lg font-bold text-white px-2 w-3/4\",\n            children: \"Kategori Bulanan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 py-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"month-select\",\n              className: \"text-sm font-semibold mr-2 text-gray-700\",\n              children: \"Pilih Bulan:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedMonth,\n              onChange: e => {\n                const val = e.target.value;\n                if (val === \"add_new\") {\n                  setIsModalAddMonthOpen(true);\n                  setActiveAddMonthTarget(\"budget\");\n                } else {\n                  setSelectedMonth(val);\n                }\n              },\n              children: [Object.keys(budgetsByMonth).sort((a, b) => new Date(a) - new Date(b)).map(month => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: month,\n                children: formatMonth(month)\n              }, month, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"add_new\",\n                children: \"+ Tambah Bulan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-3 py-1 w-full\",\n            children: [(budgetsByMonth[selectedMonth] || []).map(item => {\n              const budgetAmount = parseFloat(item.amount) || 0;\n              const usedAmount = parseFloat(item.used) || 0;\n              const percentage = budgetAmount > 0 ? usedAmount / budgetAmount * 100 : 0;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4/6 sm:w-4/6 lg:w-2/3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white border rounded-xl px-2 py-1 gap-1 flex flex-col w-full border-gray-300\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-wrap items-center w-5/6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: \" ... \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 403,\n                        columnNumber: 39\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-[11px]\",\n                        children: item.category_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 404,\n                        columnNumber: 39\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 401,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(DropdownAksi, {\n                      onEdit: () => handleOpenEditCategoryModal(item),\n                      onDelete: () => handleHapusKategori(item.category_id)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-[11px] mt-1\",\n                    children: [\"Rp.\", budgetAmount.toLocaleString('id-ID')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-row gap-1 items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-[11px]\",\n                      children: [percentage.toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(CircularProgress, {\n                      percentage: percentage\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 27\n                }, this)\n              }, item.category_id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 23\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                handleAddBudget();\n              },\n              className: \"bg-gray-100 text-gray-300 text-[8px] md:text-[10px] xl:text-[12px] 2xl:text-[15px] px-5 py-2 rounded hover:bg-gray-500 w-9/12\",\n              children: \"+ Tambah Kategori\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), hasMoreBudget && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleOpenAddCategoryModal,\n            className: \"bg-gray-300 text-gray-800 text-[8px] md:text-[10px] xl:text-[12px] 2xl:text-[15px] px-3 py-1 rounded hover:bg-gray-400 mt-3 w-9/12\",\n            children: \"Tampilkan lebih banyak...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col w-full mt-7\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"bg-gray-500 rounded-md text-[13px] md:text-base lg:text-lg font-bold text-white px-2 w-3/4\",\n              children: \"Akun Bulanan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col gap-2 py-2 w-full\",\n              children: accounts.length > 0 ? accounts.map(account => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4/6 sm:w-4/6 lg:w-2/3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white border rounded-xl px-2 py-2 gap-1 flex flex-col w-full border-gray-300\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-row justify-between items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium text-gray-800\",\n                      children: account.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 455,\n                      columnNumber: 43\n                    }, this), /*#__PURE__*/_jsxDEV(DropdownAksi, {\n                      onEdit: () => alert('Fitur Edit Akun segera hadir!'),\n                      onDelete: () => alert('Fitur Hapus Akun segera hadir!')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 457,\n                      columnNumber: 43\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 39\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-semibold text-gray-900\",\n                    children: [\"Rp \", Number(account.balance).toLocaleString('id-ID')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 39\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 35\n                }, this)\n              }, account.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 31\n              }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"p-2 text-sm text-gray-500\",\n                children: \"Belum ada akun.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-3 py-1 w-full\",\n              children: [displayedAkun.map(item => {\n                const percentage = item.Total > 0 ? (item.used || 0) / item.Total * 100 : 0;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-4/6 sm:w-4/6 lg:w-2/3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-white border rounded-xl px-2 py-1 gap-1 flex flex-col w-full border-gray-300\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex flex-wrap items-center w-5/6\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: `w-6 h-6 rounded-full border cursor-pointer flex items-center justify-center mr-2 ${item.icon ? \"border-none\" : \"bg-gray-300\"}`,\n                            onClick: () => {\n                              setIconTargetType(\"akun\");\n                              setIconTargetId(item.id);\n                              setShowIconPicker(true);\n                            },\n                            children: item.icon ? /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: item.icon,\n                              alt: \"Selected Icon\",\n                              className: \"w-full h-full object-cover rounded-full\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 498,\n                              columnNumber: 37\n                            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-gray-500\",\n                              children: \"+\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 504,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 487,\n                            columnNumber: 33\n                          }, this), showIconPicker && /*#__PURE__*/_jsxDEV(IconPickerModal, {\n                            onSelect: icon => {\n                              console.log(\"Icon saat ini:\", selectedIcon);\n                              handleIconSelect(icon);\n                            },\n                            onClose: () => setShowIconPicker(false)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 508,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 486,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-[10px] text-left \\r md:text-[10px] \\r lg:text-[10px]\\r xl:text-[11px]\\r 2xl:text-[12px]\",\n                          children: item.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 517,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 484,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-1/6 flex justify-end items-start\",\n                        children: /*#__PURE__*/_jsxDEV(DropdownAksi, {\n                          item: item,\n                          type: \"akun\" // atau \"budget\"\n                          ,\n                          month: selectedMonthAkun // format: \"2025-06\"\n                          ,\n                          handleEdit: item => handleEdit(item, \"akun\") // atau \"budget\"\n                          ,\n                          handleHapus: handleHapus\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 526,\n                          columnNumber: 28\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 525,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 483,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-[10px] md:text-[10px] lg:text-[10px] xl:text-[11px] 2xl:text-[12px] mt-1 w-fit relative group inline-block cursor-pointer\",\n                      children: [\"Rp.\", item.Total, /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"absolute left-full top-1/2 ml-2 -translate-y-1/2\\r bg-gray-500 text-white text-[10px] md:text-[10px] lg:text-[10px] xl:text-[11px] 2xl:text-[12px] px-2 py-1 rounded \\r opacity-0 group-hover:opacity-100 transition-all duration-200 \\r whitespace-nowrap z-10\\r pointer-events-none\",\n                        children: \"Jumlah\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 537,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 535,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-row gap-1 items-center relative w-fit group cursor-pointer\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-[10px] md:text-[10px] lg:text-[10px] xl:text-[11px] 2xl:text-[12px]\",\n                        children: [percentage.toFixed(0), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 546,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(CircularProgress, {\n                        percentage: percentage\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 549,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"absolute left-full top-1/2 ml-2 -translate-y-1/2\\r bg-gray-500 text-white text-[10px] md:text-[10px] lg:text-[10px] xl:text-[11px] 2xl:text-[12px] px-1 py-1 rounded \\r opacity-0 group-hover:opacity-100 transition-all duration-200 \\r whitespace-nowrap z-10\\r pointer-events-none\",\n                        children: \"Pemakaian\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 550,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 545,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 482,\n                    columnNumber: 25\n                  }, this)\n                }, item.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 23\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setModalType(\"akun\");\n                  setSelectedItem(null);\n                  setModalOpen(true);\n                },\n                className: \"bg-gray-100 text-gray-300 text-[8px] md:text-[10px] xl:text-[12px] 2xl:text-[15px] px-5 py-2 rounded hover:bg-gray-500 w-9/12\",\n                children: \"+ Tambah Akun\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 17\n            }, this), hasMoreAkun && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentAkun(prev => prev + 1),\n              className: \"bg-gray-300 text-gray-800 text-[8px] md:text-[10px] xl:text-[12px] 2xl:text-[15px] px-3 py-1 rounded hover:bg-gray-400 mt-3 w-9/12\",\n              children: \"Tampilkan lebih banyak...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-3/6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-300 rounded-md text-lg md:2xl lg:text-3xl font-bold text-white mx-2 px-2 w-5/6\",\n            children: \"Transaksi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b border-gray-200 dark:border-gray-700 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400\",\n              children: [\"Terkini\", \"Harian\", \"Bulanan\", \"Tahunan\"].map(tab => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"me-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedTab(tab),\n                  className: `inline-flex items-center justify-center p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group ${selectedTab === tab ? \"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500\" : \"border-transparent\"}`,\n                  children: tab\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 599,\n                  columnNumber: 21\n                }, this)\n              }, tab, false, {\n                fileName: _jsxFileName,\n                lineNumber: 598,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 13\n          }, this), selectedTab === \"Terkini\" && /*#__PURE__*/_jsxDEV(Recent, {\n            budgets: budgetsByMonth // atau tetap budgetsByMonth kalau mau\n            ,\n            akun: null,\n            transactions: transactions // <-- pakai data Pendapatan\n            ,\n            onRowsChange: handleTransactionsChange // <-- pakai handler Pendapatan\n            ,\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal,\n            type: \"Budget\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 15\n          }, this), selectedTab === \"Harian\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: budgetsByMonth,\n            akun: null,\n            tab: \"Harian\",\n            transactions: transactions,\n            setTransactions: setTransactions,\n            onRowsChange: handleTransactionsChange,\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal,\n            type: \"Budget\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 626,\n            columnNumber: 15\n          }, this), selectedTab === \"Bulanan\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: budgetsByMonth,\n            akun: null,\n            tab: \"Bulanan\",\n            transactions: transactions,\n            setTransactions: setTransactions,\n            onRowsChange: handleTransactionsChange,\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal,\n            type: \"Budget\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 15\n          }, this), selectedTab === \"Tahunan\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: budgetsByMonth,\n            akun: null,\n            tab: \"Tahunan\",\n            transactions: transactions,\n            setTransactions: setTransactions,\n            onRowsChange: handleTransactionsChange,\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal,\n            type: \"Budget\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col mt-10\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-300 rounded-md text-lg md:2xl lg:text-3xl font-bold text-white mx-2 px-2 w-5/6\",\n            children: \"Pendapatan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b border-gray-200 dark:border-gray-700 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400\",\n              children: [\"Terkini\", \"Harian\", \"Bulanan\", \"Tahunan\"].map(tab => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"me-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedTabPendapatan(tab),\n                  className: `inline-flex items-center justify-center p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group ${selectedTabPendapatan === tab ? \"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500\" : \"border-transparent\"}`,\n                  children: tab\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 677,\n                  columnNumber: 21\n                }, this)\n              }, tab, false, {\n                fileName: _jsxFileName,\n                lineNumber: 676,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 13\n          }, this), selectedTabPendapatan === \"Terkini\" && /*#__PURE__*/_jsxDEV(Recent, {\n            budgets: null // atau tetap budgetsByMonth kalau mau\n            ,\n            akun: AkunByMonth,\n            transactions: pendapatan // <-- pakai data Pendapatan\n            ,\n            onRowsChange: handlePendaptanChange // <-- pakai handler Pendapatan\n            ,\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal,\n            type: \"Akun\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 15\n          }, this), selectedTabPendapatan === \"Harian\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: null,\n            akun: AkunByMonth,\n            tab: \"Harian\",\n            transactions: pendapatan,\n            setTransactions: setPendapatan,\n            onRowsChange: handlePendaptanChange,\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal,\n            type: \"Akun\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 704,\n            columnNumber: 15\n          }, this), selectedTabPendapatan === \"Bulanan\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: null,\n            akun: AkunByMonth,\n            tab: \"Bulanan\",\n            transactions: Pendapatan,\n            setTransactions: setPendapatan,\n            onRowsChange: handlePendaptanChange,\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal,\n            type: \"Akun\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 15\n          }, this), selectedTabPendapatan === \"Tahunan\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: null,\n            akun: AkunByMonth,\n            tab: \"Tahunan\",\n            transactions: Pendapatan,\n            setTransactions: setPendapatan,\n            onRowsChange: handlePendaptanChange,\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal,\n            type: \"Akun\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 730,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-2/6 px-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-300 rounded-md text-[13px] md:text-base lg:text-lg font-bold text-white mx-2 px-2 w-full\",\n            children: \"Graph Pengeluaran\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ChartKeuangan, {\n            transactions: transactions,\n            type: \"pengeluaran\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col mt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-300 rounded-md text-[13px] md:text-base lg:text-lg font-bold text-white mx-2 px-2 w-full\",\n            children: \"Graph Pendapatan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 754,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ChartKeuangan, {\n            transactions: Pendapatan,\n            type: \"Pendapatan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 753,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 746,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalBudget, {\n      isOpen: isModalOpen,\n      onClose: () => {\n        setModalOpen(false);\n        setSelectedItem(null);\n        setSelectedIcon(null);\n      },\n      akunList: akunSementara,\n      initialData: selectedItem,\n      onSave: handleSave,\n      type: modalType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 764,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ModalAddMonth, {\n      isOpen: isModalAddMonthOpen,\n      onClose: () => setIsModalAddMonthOpen(false),\n      onAddMonth: handleAddMonthWrapper\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 776,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 336,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"edSejtmfJDgXLzlRLX3PTcD3kYQ=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["ModalAddMonth","React","useEffect","useState","useCallback","useNavigate","ModalBudget","IconPickerModal","Recent","FilterTransaksi","ChartKeuangan","ModalTransaksi","ModalKategori","ModalAkun","DropdownAksi","getTransactions","getBudgets","getCategories","deleteTransaction","deleteCategory","setBudget","createTransaction","updateTransaction","createCategory","updateCategory","createAccount","getAccounts","jsxDEV","_jsxDEV","App","_s","navigate","accounts","setAccounts","budgetsByMonth","setBudgetsByMonth","transactions","setTransactions","pendapatan","setPendapatan","categories","setCategories","isTransactionModalOpen","setTransactionModalOpen","selectedTransaction","setSelectedTransaction","isCategoryModalOpen","setCategoryModalOpen","selectedCategory","setSelectedCategory","selectedMonth","setSelectedMonth","d","Date","getFullYear","String","getMonth","padStart","isLoading","setIsLoading","activeAddMonthTarget","setActiveAddMonthTarget","isModalAddMonthOpen","setIsModalAddMonthOpen","isModalOpen","setModalOpen","showIconPicker","setShowIconPicker","selectedIcon","setSelectedIcon","iconTargetId","setIconTargetId","selectedTab","setSelectedTab","selectedTabPendapatan","setSelectedTabPendapatan","budgets","Budgetperpage","currentBudget","setCurrentBudget","displayedBudgets","slice","hasMoreBudget","length","selectedItem","setSelectedItem","modalType","setModalType","iconTargetType","setIconTargetType","fetchData","year","month","split","accountData","budgetData","transactionData","categoryData","Promise","all","budgetMap","expenseTxs","filter","tx","type","incomeTxs","error","console","handleAddMonthWrapper","newMonth","handleAddMonth","handleTransactionsChange","updatedRows","handlePendaptanChange","handleIconSelect","iconPath","prev","map","b","id","icon","alert","handleAddBudget","handleEdit","item","handleSaveBudget","data","message","handleDeleteTransaction","transactionId","window","confirm","p","handleHapusKategori","categoryId","handleOpenAddTransactionModal","handleOpenEditTransactionModal","transaction","handleSaveTransaction","updateData","handleOpenAddCategoryModal","handleOpenEditCategoryModal","category","category_id","name","category_name","handleSaveCategory","isAccountModalOpen","setAccountModalOpen","handleOpenAddAccountModal","handleSaveAccount","CircularProgress","percentage","pct","Number","radius","stroke","normalized","circumference","Math","PI","clamped","min","offset","color","className","viewBox","children","strokeWidth","fill","r","cx","cy","fileName","_jsxFileName","lineNumber","columnNumber","strokeDasharray","strokeDashoffset","strokeLinecap","formatMonth","monthStr","monthNames","parseInt","onClick","htmlFor","value","onChange","e","val","target","Object","keys","sort","a","budgetAmount","parseFloat","amount","usedAmount","used","onEdit","onDelete","toLocaleString","toFixed","account","balance","displayedAkun","Total","src","alt","onSelect","log","onClose","selectedMonthAkun","handleHapus","hasMoreAkun","setCurrentAkun","tab","akun","onRowsChange","AkunByMonth","Pendapatan","isOpen","akunList","akunSementara","initialData","onSave","handleSave","onAddMonth","_c","$RefreshReg$"],"sources":["D:/xampp/htdocs/back/finance-trackerB/frontend/src/HalamanUtama.js"],"sourcesContent":["import ModalAddMonth from \"./ModalAddMonth\";\r\nimport React, { useEffect, useState, useCallback } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ModalBudget from './ModalBudget';\r\nimport IconPickerModal from \"./IconPickerModal\";\r\nimport Recent from './RecentTransaction';\r\nimport FilterTransaksi from './FilterTransaksi';\r\nimport ChartKeuangan from './ChartKeuangan';\r\nimport ModalTransaksi from './ModalTransaksi';\r\nimport ModalKategori from './ModalKategori';\r\nimport ModalAkun from './ModalAkun';\r\nimport DropdownAksi from \"./DropdownButton\";\r\nimport { getTransactions, getBudgets, getCategories, deleteTransaction, deleteCategory, setBudget,createTransaction, updateTransaction, createCategory, updateCategory, createAccount, getAccounts} from './apiservice';\r\n\r\nfunction App() {\r\n  const navigate = useNavigate();\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [budgetsByMonth, setBudgetsByMonth] = useState({});\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [pendapatan, setPendapatan] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [isTransactionModalOpen, setTransactionModalOpen] = useState(false);\r\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\r\n  const [isCategoryModalOpen, setCategoryModalOpen] = useState(false);\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  //Variabel\r\n  const [selectedMonth, setSelectedMonth] = useState(() => {\r\n    const d = new Date();\r\n    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`;\r\n  });\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [activeAddMonthTarget, setActiveAddMonthTarget] = useState(null);\r\n  const [isModalAddMonthOpen, setIsModalAddMonthOpen] = useState(false);\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n  const [showIconPicker, setShowIconPicker] = useState(false);\r\n  const [selectedIcon, setSelectedIcon] = useState(null);\r\n  const [iconTargetId, setIconTargetId] = useState(null);\r\n  const [selectedTab, setSelectedTab] = useState(\"Terkini\");\r\n  const [selectedTabPendapatan, setSelectedTabPendapatan] = useState(\"Terkini\");\r\n  const budgets = budgetsByMonth[selectedMonth] || [];\r\n  const Budgetperpage = 5;\r\n  const [currentBudget, setCurrentBudget] = useState(1);\r\n  const displayedBudgets = budgets.slice(0, currentBudget * Budgetperpage);\r\n  const hasMoreBudget = budgets.length > displayedBudgets.length;\r\n  \r\n  const [selectedItem, setSelectedItem] = useState(null); // bisa untuk akun atau budget\r\n  const [modalType, setModalType] = useState(null); // \"budget\" atau \"akun\"\r\n  const [iconTargetType, setIconTargetType] = useState(null);\r\n  \r\n  //Fungsi atau Method\r\n  const fetchData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const [year, month] = selectedMonth.split('-');\r\n      \r\n      const [accountData, budgetData, transactionData, categoryData] = await Promise.all([\r\n        getAccounts(),\r\n        getBudgets(year, month),\r\n        getTransactions(),\r\n        getCategories()\r\n      ]);\r\n      setAccounts(accountData);\r\n      // 3. Proses dan set data ke state\r\n      const budgetMap = { [selectedMonth]: budgetData };\r\n      setBudgetsByMonth(budgetMap);\r\n      \r\n      const expenseTxs = transactionData.filter(tx => tx.type === 'expense'); //\r\n      const incomeTxs = transactionData.filter(tx => tx.type === 'income'); //\r\n      setTransactions(expenseTxs);\r\n      setPendapatan(incomeTxs);\r\n      \r\n      setCategories(categoryData);\r\n\r\n    } catch (error) {\r\n      console.error(\"Gagal mengambil data:\", error);\r\n      // Di sini Anda bisa menambahkan logika redirect ke halaman login jika token tidak valid\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [selectedMonth]);\r\n  // Panggil fetchData saat komponen mount atau saat bulan diganti\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [fetchData]);\r\n\r\n  const handleAddMonthWrapper = (newMonth) => {\r\n  // Cukup sisakan bagian untuk budget\r\n  if (activeAddMonthTarget === \"budget\") {\r\n    handleAddMonth(newMonth);\r\n  }\r\n  setIsModalAddMonthOpen(false);\r\n  };\r\n\r\n  const handleTransactionsChange = (updatedRows) => {\r\n    setTransactions(updatedRows);\r\n  };\r\n\r\n  const handlePendaptanChange = (updatedRows) => {\r\n    setPendapatan(updatedRows);\r\n  };\r\n\r\n  // Kode handleIconSelect yang sudah diperbaiki\r\nconst handleIconSelect = (iconPath) => {\r\n  setShowIconPicker(false);\r\n  setSelectedIcon(iconPath);\r\n\r\n  // Kita hanya mempertahankan logika untuk 'budget'\r\n  if (iconTargetId !== null && iconTargetType === \"budget\") {\r\n    setBudgetsByMonth((prev) => ({\r\n      ...prev,\r\n      [selectedMonth]: prev[selectedMonth].map((b) =>\r\n        b.id === iconTargetId ? { ...b, icon: iconPath } : b\r\n      ),\r\n    }));\r\n  }\r\n\r\n  // Reset target setelah selesai\r\n  setIconTargetId(null);\r\n  setIconTargetType(null);\r\n};\r\n\r\n  function handleAddMonth(newMonth) {\r\n  if (budgetsByMonth[newMonth]) {\r\n    alert(\"Maaf, bulan sudah ada!\");\r\n    return;\r\n   }\r\n\r\n    setBudgetsByMonth(prev => ({\r\n     ...prev,\r\n     [newMonth]: []\r\n    }));\r\n    setSelectedMonth(newMonth);\r\n    setModalOpen(false);\r\n  }\r\n    {/*function handleAddMonthAkun(newMonth) {\r\n    if (AkunByMonth[newMonth]) {\r\n      alert(\"Maaf, bulan sudah ada!\");\r\n      return;\r\n    }*/}\r\n\r\n  \r\n  const handleAddBudget = () => {\r\n  setSelectedItem(null);\r\n  setModalType(\"budget\");\r\n  setModalOpen(true);\r\n};\r\n\r\n  const handleEdit = (item, type) => {\r\n  setSelectedItem(item);\r\n  setModalType(type);\r\n // if (type === \"budget\") {\r\n    //const akunList = AkunByMonth[selectedMonth] || [];\r\n    // Salin akun dan kurangi used sementara jika item sedang diedit\r\n   // const akunTemp = akunList.map((akun) => {\r\n   //   const dikurang = item?.akunDipakai?.[akun.name] || 0;\r\n   //   return {\r\n    //    ...akun,\r\n   //     used: (akun.used || 0) - dikurang,\r\n    //  };\r\n   // });\r\n  //  setAkunSementara(akunTemp); // ← pakai di sini\r\n // }\r\n  setModalOpen(true);\r\n};\r\n  \r\n const handleSaveBudget = async (data) => {\r\n    try {\r\n        // Data dari modal harus mengandung: category_id, amount, year, month\r\n        await setBudget(data);\r\n        fetchData(); // Refresh data\r\n        setModalOpen(false); // Tutup modal\r\n        alert('Budget berhasil disimpan');\r\n    } catch (error) {\r\n        console.error(\"Gagal simpan budget:\", error);\r\n        alert(error.message);\r\n    }\r\n};\r\n\r\n  const handleDeleteTransaction = async (transactionId) => {\r\n  if (window.confirm(\"Anda yakin ingin menghapus transaksi ini?\")) {\r\n    try {\r\n      await deleteTransaction(transactionId);\r\n      // Update state secara manual agar UI cepat merespons\r\n      setTransactions(prev => prev.filter(tx => tx.id !== transactionId));\r\n      setPendapatan(prev => prev.filter(p => p.id !== transactionId));\r\n      alert('Transaksi berhasil dihapus.');\r\n    } catch (error) {\r\n      console.error(\"Gagal menghapus transaksi:\", error);\r\n      alert(error.message);\r\n    }\r\n  }\r\n};\r\n  \r\n  const handleHapusKategori = async (categoryId) => {\r\n  if (window.confirm(\"Yakin ingin menghapus kategori ini?\")) {\r\n    try {\r\n      await deleteCategory(categoryId); // <-- PERBAIKI DI SINI\r\n      fetchData();\r\n      alert('Kategori berhasil dihapus.');\r\n    } catch (error) {\r\n      console.error(\"Gagal hapus kategori:\", error);\r\n      alert(error.message);\r\n    }\r\n  }\r\n};\r\n    // Untuk membuka modal dalam mode 'tambah'\r\n  const handleOpenAddTransactionModal = (type = 'expense') => {\r\n    setSelectedTransaction({ type }); // Kosongkan data, karena ini mode tambah baru\r\n    setTransactionModalOpen(true);\r\n  };\r\n\r\n  // Untuk membuka modal dalam mode 'edit'\r\n  const handleOpenEditTransactionModal = (transaction) => {\r\n    setSelectedTransaction(transaction); // Isi dengan data transaksi yang akan diedit\r\n    setTransactionModalOpen(true);\r\n  };\r\n\r\n  // Fungsi yang dipanggil saat tombol 'Simpan' di modal ditekan\r\n  const handleSaveTransaction = async (data) => {\r\n    try {\r\n      if (data.id) {\r\n        // Jika data punya id, artinya kita sedang UPDATE (mengubah)\r\n        const { type, ...updateData } = data; // Backend tidak mengizinkan 'type' diubah saat edit\r\n        await updateTransaction(data.id, updateData);\r\n      } else {\r\n        // Jika tidak punya id, artinya kita sedang CREATE (tambah baru)\r\n        await createTransaction(data);\r\n      }\r\n      setTransactionModalOpen(false); // Tutup modal setelah berhasil\r\n      fetchData(); // Ambil data terbaru dari server agar tampilan update\r\n      alert('Transaksi berhasil disimpan!');\r\n    } catch (error) {\r\n      console.error('Gagal menyimpan transaksi:', error);\r\n      alert(error.message);\r\n    }\r\n  };\r\n  const handleOpenAddCategoryModal = () => {\r\n    setSelectedCategory(null);\r\n    setCategoryModalOpen(true);\r\n  };\r\n\r\n  const handleOpenEditCategoryModal = (category) => {\r\n    // Data dari API budget memiliki 'category_id' dan 'category_name'\r\n    // Kita sesuaikan agar konsisten\r\n    setSelectedCategory({ id: category.category_id, name: category.category_name });\r\n    setCategoryModalOpen(true);\r\n  };\r\n\r\n  const handleSaveCategory = async (data) => {\r\n    try {\r\n      if (data.id) {\r\n        // Mode UPDATE\r\n        await updateCategory(data.id, { name: data.name });\r\n      } else {\r\n        // Mode CREATE\r\n        await createCategory({ name: data.name });\r\n      }\r\n      setCategoryModalOpen(false);\r\n      fetchData(); // Refresh data\r\n      alert('Kategori berhasil disimpan!');\r\n    } catch (error) {\r\n      console.error('Gagal menyimpan kategori:', error);\r\n      alert(error.message);\r\n    }\r\n  };\r\n  const [isAccountModalOpen, setAccountModalOpen] = useState(false);\r\n\r\n  const handleOpenAddAccountModal = () => setAccountModalOpen(true);\r\n\r\n  const handleSaveAccount = async (data) => {\r\n    try {\r\n      await createAccount(data);\r\n      setAccountModalOpen(false);\r\n      fetchData();\r\n      alert('Akun baru berhasil ditambahkan!');\r\n    } catch (error) {\r\n      alert(error.message);\r\n    }\r\n  };\r\n  const CircularProgress = ({ percentage }) => {\r\n    const pct = Number(percentage); // pastikan tipe number\r\n    const radius = 20;\r\n    const stroke = 4;\r\n    const normalized = radius - stroke / 2;\r\n    const circumference = 2 * Math.PI * normalized;\r\n  \r\n    // Batasi offset hanya sampai 100%\r\n    const clamped = Math.min(pct, 100); // agar offset mentok di 100%\r\n    const offset = circumference * (1 - clamped / 100);\r\n  \r\n    const color =\r\n      pct > 99 ? 'stroke-red-500'\r\n      : pct > 50 ? 'stroke-yellow-400'\r\n      : pct > 0 ? 'stroke-green-400'\r\n      : 'stroke-transparent';\r\n  \r\n    return (\r\n      <svg className=\"w-5 h-5\" viewBox=\"0 0 48 48\">\r\n        <circle\r\n          className=\"stroke-gray-200\"\r\n          strokeWidth={stroke}\r\n          fill=\"transparent\"\r\n          r={normalized}\r\n          cx=\"24\"\r\n          cy=\"24\"\r\n        />\r\n        <circle\r\n          className={`transition-all duration-300 ${color}`}\r\n          strokeWidth={stroke}\r\n          fill=\"transparent\"\r\n          r={normalized}\r\n          cx=\"24\"\r\n          cy=\"24\"\r\n          strokeDasharray={circumference}\r\n          strokeDashoffset={offset}\r\n          strokeLinecap=\"round\"\r\n        />\r\n      </svg>\r\n    );\r\n  };\r\n\r\n  function formatMonth(monthStr) {\r\n  // monthStr: \"2024-01\"\r\n  const [year, month] = monthStr.split(\"-\");\r\n  const monthNames = [\r\n    \"Januari\", \"Februari\", \"Maret\", \"April\", \"Mei\", \"Juni\",\r\n    \"Juli\", \"Agustus\", \"September\", \"Oktober\", \"November\", \"Desember\"\r\n  ];\r\n  return `${monthNames[parseInt(month, 10) - 1]} ${year}`;\r\n}\r\n  if (isLoading) {\r\n    return <div>Loading...</div>; // Tampilkan loading indicator\r\n  }\r\n  //Tampilan\r\n  return (\r\n    <div className=\"flex-col items-start justify-center min-h-screen bg-gray-200\">\r\n      <div className=\"w-full bg-gray-700 shadow-md text-center py-9 md:py-32 lg:py-32\">\r\n        <h1 className=\"font-semibold text-white mb-4 text-4xl md:text-6xl lg:text-7xl\">\r\n          KeuanganKu\r\n        </h1>\r\n      </div>\r\n      <div className=\"flex justify-center mt-5\">\r\n        <div className=\"inline-flex rounded-full overflow-hidden shadow-md border border-gray-500\">\r\n          <button\r\n            className=\"bg-gray-500 text-white px-6 py-2 text-sm md:text-base font-medium rounded-l-full\"\r\n          >\r\n            Transaksi\r\n          </button>\r\n          <button\r\n            onClick={() => navigate(\"/hutang\")}\r\n            className=\"bg-white text-gray-500 hover:bg-gray-100 px-6 py-2 text-sm md:text-base font-medium rounded-r-full\"\r\n          >\r\n            Hutang \r\n          </button>\r\n        </div>\r\n      </div>\r\n      {/* Tampilan kolom bagian kiri */}\r\n      <div className=\"py-10 px-10 flex flex-row bg-gray-200\">\r\n        <div className=\"flex flex-col w-1/6\">\r\n          <div className=\"flex flex-col\">\r\n            <h1 className=\"bg-gray-500 rounded-md text-[13px] md:text-base lg:text-lg font-bold text-white px-2 w-3/4\">\r\n              Kategori Bulanan\r\n            </h1>\r\n            <div className=\"mb-4 py-2\">\r\n              <label htmlFor=\"month-select\" className=\"text-sm font-semibold mr-2 text-gray-700\">\r\n                Pilih Bulan:\r\n              </label>\r\n              <select\r\n                value={selectedMonth}\r\n                onChange={(e) => {\r\n                  const val = e.target.value;\r\n                  if (val === \"add_new\") {\r\n                    setIsModalAddMonthOpen(true);\r\n                    setActiveAddMonthTarget(\"budget\");\r\n                  } else {\r\n                    setSelectedMonth(val);\r\n                  }\r\n                }}\r\n              >\r\n                {Object.keys(budgetsByMonth)\r\n                  .sort((a, b) => new Date(a) - new Date(b))\r\n                  .map((month) => (\r\n                    <option key={month} value={month}>\r\n                      {formatMonth(month)}\r\n                    </option>\r\n                  ))\r\n                }\r\n                <option value=\"add_new\">+ Tambah Bulan</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-3 py-1 w-full\">\r\n              {(budgetsByMonth[selectedMonth] || []).map((item) => {\r\n                  const budgetAmount = parseFloat(item.amount) || 0;\r\n                  const usedAmount = parseFloat(item.used) || 0;\r\n                  const percentage = budgetAmount > 0 ? (usedAmount / budgetAmount) * 100 : 0;\r\n\r\n                  return (\r\n                      <div key={item.category_id} className=\"w-4/6 sm:w-4/6 lg:w-2/3\">\r\n                          <div className=\"bg-white border rounded-xl px-2 py-1 gap-1 flex flex-col w-full border-gray-300\">\r\n                              <div className=\"flex flex-row\">\r\n                                  <div className=\"flex flex-wrap items-center w-5/6\">\r\n                                      {/* Icon Picker - Dibiarkan dulu */}\r\n                                      <div> ... </div> \r\n                                      <span className=\"text-[11px]\">{item.category_name}</span>\r\n                                  </div>\r\n                                  {/* Menggunakan DropdownAksi BARU */}\r\n                                  <DropdownAksi\r\n                                      onEdit={() => handleOpenEditCategoryModal(item)}\r\n                                      onDelete={() => handleHapusKategori(item.category_id)}\r\n                                  />\r\n                              </div>\r\n                              <div className=\"text-[11px] mt-1\">\r\n                                  Rp.{budgetAmount.toLocaleString('id-ID')}\r\n                              </div>\r\n                              <div className=\"flex flex-row gap-1 items-center\">\r\n                                  <div className=\"text-[11px]\">{percentage.toFixed(0)}%</div>\r\n                                  <CircularProgress percentage={percentage} />\r\n                              </div>\r\n                          </div>\r\n                      </div>\r\n                  );\r\n              })}\r\n  \r\n              {/* Tombol tambah budget */}\r\n              <button\r\n                    onClick={() => {\r\n                      handleAddBudget();\r\n                    }}\r\n                    className=\"bg-gray-100 text-gray-300 text-[8px] md:text-[10px] xl:text-[12px] 2xl:text-[15px] px-5 py-2 rounded hover:bg-gray-500 w-9/12\"\r\n                  >\r\n                    + Tambah Kategori\r\n                  </button>\r\n            </div>\r\n            {hasMoreBudget && (\r\n              <button\r\n                onClick={handleOpenAddCategoryModal}\r\n                className=\"bg-gray-300 text-gray-800 text-[8px] md:text-[10px] xl:text-[12px] 2xl:text-[15px] px-3 py-1 rounded hover:bg-gray-400 mt-3 w-9/12\"\r\n              >\r\n                Tampilkan lebih banyak...\r\n              </button>\r\n            )}\r\n          </div>\r\n          {/*Tampilan Konten Kedua bagian kiri */}\r\n          <div className=\"flex flex-col w-full mt-7\">\r\n              <div className=\"flex flex-col\">\r\n                <h1 className=\"bg-gray-500 rounded-md text-[13px] md:text-base lg:text-lg font-bold text-white px-2 w-3/4\">\r\n                  Akun Bulanan\r\n                </h1>\r\n                <div className=\"flex flex-col gap-2 py-2 w-full\">\r\n                      {accounts.length > 0 ? (\r\n                          accounts.map(account => (\r\n                              <div key={account.id} className=\"w-4/6 sm:w-4/6 lg:w-2/3\">\r\n                                  <div className=\"bg-white border rounded-xl px-2 py-2 gap-1 flex flex-col w-full border-gray-300\">\r\n                                      <div className=\"flex flex-row justify-between items-center\">\r\n                                          <span className=\"text-sm font-medium text-gray-800\">{account.name}</span>\r\n                                          {/* Tombol Aksi - Edit/Hapus belum kita buat fungsinya, jadi kita beri alert sementara */}\r\n                                          <DropdownAksi\r\n                                              onEdit={() => alert('Fitur Edit Akun segera hadir!')}\r\n                                              onDelete={() => alert('Fitur Hapus Akun segera hadir!')}\r\n                                          />\r\n                                      </div>\r\n                                      <span className=\"text-sm font-semibold text-gray-900\">\r\n                                          Rp {Number(account.balance).toLocaleString('id-ID')}\r\n                                      </span>\r\n                                  </div>\r\n                              </div>\r\n                          ))\r\n                      ) : (\r\n                          <p className=\"p-2 text-sm text-gray-500\">Belum ada akun.</p>\r\n                      )}\r\n                  </div>\r\n                <div className=\"flex flex-wrap gap-3 py-1 w-full\">\r\n                  {displayedAkun.map((item) => {\r\n                    const percentage =\r\n                      item.Total > 0 ? ((item.used || 0) / item.Total) * 100 : 0;\r\n      \r\n                    return (\r\n                      <div\r\n                        key={item.id}\r\n                        className=\"w-4/6 sm:w-4/6 lg:w-2/3\"\r\n                      >\r\n                        <div className=\"bg-white border rounded-xl px-2 py-1 gap-1 flex flex-col w-full border-gray-300\">\r\n                          <div className=\"flex flex-row\">\r\n                            <div className=\"flex flex-wrap items-center w-5/6\">\r\n                              {/* Icon Picker */}\r\n                              <div>\r\n                                <div\r\n                                  className={`w-6 h-6 rounded-full border cursor-pointer flex items-center justify-center mr-2 ${\r\n                                    item.icon ? \"border-none\" : \"bg-gray-300\"\r\n                                  }`}\r\n                                  onClick={() => {\r\n                                    setIconTargetType(\"akun\");\r\n                                    setIconTargetId(item.id);\r\n                                    setShowIconPicker(true);\r\n                                  }}\r\n                                >\r\n                                  {item.icon ? (\r\n                                    <img\r\n                                      src={item.icon}\r\n                                      alt=\"Selected Icon\"\r\n                                      className=\"w-full h-full object-cover rounded-full\"\r\n                                    />\r\n                                  ) : (\r\n                                    <span className=\"text-gray-500\">+</span>\r\n                                  )}\r\n                                </div>\r\n                                {showIconPicker && (\r\n                                  <IconPickerModal\r\n                                    onSelect={(icon) => {\r\n                                      console.log(\"Icon saat ini:\", selectedIcon);\r\n                                      handleIconSelect(icon);\r\n                                    }}\r\n                                    onClose={() => setShowIconPicker(false)}\r\n                                  />\r\n                                )}\r\n                              </div>\r\n                              <span className=\"text-[10px] text-left \r\n                                md:text-[10px] \r\n                                lg:text-[10px]\r\n                                xl:text-[11px]\r\n                                2xl:text-[12px]\">\r\n                                {item.name}\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"w-1/6 flex justify-end items-start\">\r\n                           <DropdownAksi\r\n                              item={item}\r\n                              type=\"akun\" // atau \"budget\"\r\n                              month={selectedMonthAkun} // format: \"2025-06\"\r\n                              handleEdit={(item) => handleEdit(item, \"akun\")} // atau \"budget\"\r\n                              handleHapus={handleHapus}\r\n                            />\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"text-[10px] md:text-[10px] lg:text-[10px] xl:text-[11px] 2xl:text-[12px] mt-1 w-fit relative group inline-block cursor-pointer\">\r\n                            Rp.{item.Total}\r\n                            <div className=\"absolute left-full top-1/2 ml-2 -translate-y-1/2\r\n                                bg-gray-500 text-white text-[10px] md:text-[10px] lg:text-[10px] xl:text-[11px] 2xl:text-[12px] px-2 py-1 rounded \r\n                                opacity-0 group-hover:opacity-100 transition-all duration-200 \r\n                                whitespace-nowrap z-10\r\n                                pointer-events-none\">\r\n                              Jumlah \r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex flex-row gap-1 items-center relative w-fit group cursor-pointer\">\r\n                            <div className=\"text-[10px] md:text-[10px] lg:text-[10px] xl:text-[11px] 2xl:text-[12px]\">\r\n                              {percentage.toFixed(0)}%\r\n                            </div>\r\n                            <CircularProgress percentage={percentage} />\r\n                            <div className=\"absolute left-full top-1/2 ml-2 -translate-y-1/2\r\n                                bg-gray-500 text-white text-[10px] md:text-[10px] lg:text-[10px] xl:text-[11px] 2xl:text-[12px] px-1 py-1 rounded \r\n                                opacity-0 group-hover:opacity-100 transition-all duration-200 \r\n                                whitespace-nowrap z-10\r\n                                pointer-events-none\">\r\n                              Pemakaian\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n      \r\n                  {/* Tombol tambah akun */}\r\n                  <button\r\n                    onClick={() => {\r\n                      setModalType(\"akun\")\r\n                      setSelectedItem(null);\r\n                      setModalOpen(true);\r\n                    }}\r\n                    className=\"bg-gray-100 text-gray-300 text-[8px] md:text-[10px] xl:text-[12px] 2xl:text-[15px] px-5 py-2 rounded hover:bg-gray-500 w-9/12\"\r\n                  >\r\n                    + Tambah Akun\r\n                  </button>\r\n                </div>\r\n                {hasMoreAkun && (\r\n                  <button\r\n                    onClick={() => setCurrentAkun(prev => prev + 1)}\r\n                    className=\"bg-gray-300 text-gray-800 text-[8px] md:text-[10px] xl:text-[12px] 2xl:text-[15px] px-3 py-1 rounded hover:bg-gray-400 mt-3 w-9/12\"\r\n                  >\r\n                    Tampilkan lebih banyak...\r\n                  </button>\r\n                )}\r\n              </div>\r\n        </div>\r\n        </div>\r\n        \r\n        {/* bagian tengah */}\r\n        <div className=\"w-3/6\">\r\n          <div className=\"flex flex-col\">\r\n            {/* Title + Table */}\r\n            <h1 className=\"bg-gray-300 rounded-md text-lg md:2xl lg:text-3xl font-bold text-white mx-2 px-2 w-5/6\">\r\n              Transaksi\r\n            </h1>\r\n           {/* Tabs */}\r\n            <div className=\"border-b border-gray-200 dark:border-gray-700 mb-2\">\r\n              <ul className=\"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400\">\r\n                {[\"Terkini\", \"Harian\",\"Bulanan\",\"Tahunan\"].map((tab) => (\r\n                  <li key={tab} className=\"me-2\">\r\n                    <button\r\n                      onClick={() => setSelectedTab(tab)}\r\n                      className={`inline-flex items-center justify-center p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group ${\r\n                        selectedTab === tab\r\n                          ? \"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500\"\r\n                          : \"border-transparent\"\r\n                      }`}\r\n                    >\r\n                      {tab}\r\n                    </button>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n            {/* Content berdasarkan tab */}\r\n            {selectedTab === \"Terkini\" && (\r\n              <Recent\r\n                budgets={budgetsByMonth} // atau tetap budgetsByMonth kalau mau\r\n                akun={null}\r\n                transactions={transactions}          // <-- pakai data Pendapatan\r\n                onRowsChange={handleTransactionsChange}  // <-- pakai handler Pendapatan\r\n                onDelete={handleDeleteTransaction}\r\n                onEdit={handleOpenEditTransactionModal}\r\n                type={\"Budget\"}\r\n              />\r\n            )}\r\n            {selectedTab === \"Harian\" && (\r\n              <FilterTransaksi\r\n              budgets={budgetsByMonth}\r\n              akun = {null}\r\n              tab={\"Harian\"}\r\n              transactions={transactions}\r\n              setTransactions={setTransactions}\r\n              onRowsChange={handleTransactionsChange}\r\n              onDelete={handleDeleteTransaction}\r\n              onEdit={handleOpenEditTransactionModal}\r\n              type={\"Budget\"}\r\n            />\r\n            )}\r\n            {selectedTab === \"Bulanan\" && (\r\n              <FilterTransaksi\r\n              budgets={budgetsByMonth}\r\n              akun = {null}\r\n              tab={\"Bulanan\"}\r\n              transactions={transactions}\r\n              setTransactions={setTransactions}\r\n              onRowsChange={handleTransactionsChange}\r\n              onDelete={handleDeleteTransaction}\r\n              onEdit={handleOpenEditTransactionModal}\r\n              type={\"Budget\"}\r\n            />\r\n            )}\r\n            {selectedTab === \"Tahunan\" && (\r\n              <FilterTransaksi\r\n              budgets={budgetsByMonth}\r\n              akun = {null}\r\n              tab={\"Tahunan\"}\r\n              transactions={transactions}\r\n              setTransactions={setTransactions}\r\n              onRowsChange={handleTransactionsChange}\r\n              onDelete={handleDeleteTransaction}\r\n              onEdit={handleOpenEditTransactionModal}\r\n              type={\"Budget\"}\r\n            />\r\n            )}\r\n          </div>\r\n\r\n          {/*Tampilan kedua konten tengah*/}\r\n          <div className=\"flex flex-col mt-10\">\r\n            {/* Title + Table */}\r\n            <h1 className=\"bg-gray-300 rounded-md text-lg md:2xl lg:text-3xl font-bold text-white mx-2 px-2 w-5/6\">\r\n              Pendapatan\r\n            </h1>\r\n           {/* Tabs */}\r\n            <div className=\"border-b border-gray-200 dark:border-gray-700 mb-2\">\r\n              <ul className=\"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400\">\r\n                {[\"Terkini\", \"Harian\",\"Bulanan\",\"Tahunan\"].map((tab) => (\r\n                  <li key={tab} className=\"me-2\">\r\n                    <button\r\n                      onClick={() => setSelectedTabPendapatan(tab)}\r\n                      className={`inline-flex items-center justify-center p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group ${\r\n                        selectedTabPendapatan === tab\r\n                          ? \"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500\"\r\n                          : \"border-transparent\"\r\n                      }`}\r\n                    >\r\n                      {tab}\r\n                    </button>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n            {/* Content berdasarkan tab */}\r\n            {selectedTabPendapatan === \"Terkini\" && (\r\n              <Recent\r\n                budgets={null} // atau tetap budgetsByMonth kalau mau\r\n                akun={AkunByMonth}\r\n                transactions={pendapatan}          // <-- pakai data Pendapatan\r\n                onRowsChange={handlePendaptanChange}  // <-- pakai handler Pendapatan\r\n                onDelete={handleDeleteTransaction}\r\n                onEdit={handleOpenEditTransactionModal}\r\n                type={\"Akun\"}\r\n              />\r\n            )}\r\n            {selectedTabPendapatan === \"Harian\" && (\r\n              <FilterTransaksi\r\n              budgets = {null}\r\n              akun = {AkunByMonth}\r\n              tab={\"Harian\"}\r\n              transactions={pendapatan}\r\n              setTransactions={setPendapatan}\r\n              onRowsChange={handlePendaptanChange}\r\n              onDelete={handleDeleteTransaction}\r\n              onEdit={handleOpenEditTransactionModal}\r\n              type={\"Akun\"}\r\n            />\r\n            )}\r\n            {selectedTabPendapatan === \"Bulanan\" && (\r\n              <FilterTransaksi\r\n              budgets={null}\r\n              akun = {AkunByMonth}\r\n              tab={\"Bulanan\"}\r\n              transactions={Pendapatan}\r\n              setTransactions={setPendapatan}\r\n              onRowsChange={handlePendaptanChange}\r\n              onDelete={handleDeleteTransaction}\r\n              onEdit={handleOpenEditTransactionModal}\r\n              type={\"Akun\"}\r\n            />\r\n            )}\r\n            {selectedTabPendapatan === \"Tahunan\" && (\r\n              <FilterTransaksi\r\n              budgets={null}\r\n              akun = {AkunByMonth}\r\n              tab={\"Tahunan\"}\r\n              transactions={Pendapatan}\r\n              setTransactions={setPendapatan}\r\n              onRowsChange={handlePendaptanChange}\r\n              onDelete={handleDeleteTransaction}\r\n              onEdit={handleOpenEditTransactionModal}\r\n              type={\"Akun\"}\r\n            />\r\n            )}\r\n          </div>\r\n        </div>\r\n  \r\n        {/* Bagian Kanan */}\r\n        <div className=\"w-2/6 px-2\">\r\n          <div className=\"flex flex-col\">\r\n            <h1 className=\"bg-gray-300 rounded-md text-[13px] md:text-base lg:text-lg font-bold text-white mx-2 px-2 w-full\">\r\n              Graph Pengeluaran\r\n            </h1>\r\n            <ChartKeuangan transactions={transactions} type={\"pengeluaran\"} />\r\n          </div>\r\n          <div className=\"flex flex-col mt-5\">\r\n            <h1 className=\"bg-gray-300 rounded-md text-[13px] md:text-base lg:text-lg font-bold text-white mx-2 px-2 w-full\">\r\n              Graph Pendapatan\r\n            </h1>\r\n            <ChartKeuangan transactions={Pendapatan} type={\"Pendapatan\"} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      \r\n        {/* Modal */}\r\n        <ModalBudget\r\n          isOpen={isModalOpen}\r\n          onClose={() => {\r\n          setModalOpen(false);\r\n          setSelectedItem(null);\r\n          setSelectedIcon(null);\r\n            }}\r\n          akunList={akunSementara}\r\n          initialData={selectedItem}\r\n          onSave={handleSave}\r\n          type={modalType}\r\n        />\r\n        <ModalAddMonth\r\n                    isOpen={isModalAddMonthOpen}\r\n                    onClose={() => setIsModalAddMonthOpen(false)}\r\n                    onAddMonth={handleAddMonthWrapper}\r\n        />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"E:\\\\testis\\\\frontend\\\\src\\\\HalamanUtama.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport ModalAddMonth from \"./ModalAddMonth\";\nimport IconPickerModal from \"./IconPickerModal\";\nimport Recent from './RecentTransaction';\nimport FilterTransaksi from './FilterTransaksi';\nimport ChartKeuangan from './ChartKeuangan';\nimport ModalTransaksi from './ModalTransaksi';\nimport ModalKategori from './ModalKategori';\nimport ModalAkun from './ModalAkun';\nimport { transformBudgetsData } from './util/dataTransformer'; // Hanya import transformBudgetsData\nimport { useNavigate } from 'react-router-dom';\nimport DropdownAksi from \"./DropdownButton\";\nimport { getTransactions, getBudgets, getCategories, deleteTransaction, deleteCategory, setBudget, createTransaction, updateTransaction, createCategory, updateCategory, createAccount, getAccounts, updateAccount, deleteAccount } from './apiservice'; // Pastikan semua fungsi API diimpor\n\n// Fungsi helper untuk memformat bulan (misal: \"Juli 2025\")\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatMonth = monthString => {\n  if (!monthString) return '';\n  const [year, month] = monthString.split('-');\n  const date = new Date(parseInt(year), parseInt(month) - 1);\n  return new Intl.DateTimeFormat('id-ID', {\n    year: 'numeric',\n    month: 'long'\n  }).format(date);\n};\nfunction App() {\n  _s();\n  const navigate = useNavigate();\n\n  // State untuk data utama aplikasi\n  const [accounts, setAccounts] = useState([]); // Array datar akun\n  // budgetsByMonth: { \"YYYY-MM\": [{ id: ..., name: ..., budgets: ..., used: ..., icon: ..., akunDipakai: ... }, ...] }\n  const [budgetsByMonth, setBudgetsByMonth] = useState({});\n  const [transactions, setTransactions] = useState([]); // Pengeluaran\n  const [pendapatan, setPendapatan] = useState([]); // Pendapatan\n  const [categories, setCategories] = useState([]); // Array datar kategori\n\n  // State untuk kontrol modal dan item terpilih\n  const [isTransactionModalOpen, setTransactionModalOpen] = useState(false);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n  const [isCategoryModalOpen, setCategoryModalOpen] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [isAccountModalOpen, setAccountModalOpen] = useState(false);\n  const [selectedAccount, setSelectedAccount] = useState(null);\n  const [isModalAddMonthOpen, setIsModalAddMonthOpen] = useState(false);\n  const [isIconPickerOpen, setIconPickerOpen] = useState(false);\n  const [iconTargetCategory, setIconTargetCategory] = useState(null);\n\n  // State untuk input budget yang sedang diedit\n  const [editingBudgetId, setEditingBudgetId] = useState(null);\n  const [editingBudgetAmount, setEditingBudgetAmount] = useState('');\n\n  // State untuk loading dan tab yang terpilih\n  const [isLoading, setIsLoading] = useState(true); // Default true agar loading saat pertama kali\n  const [selectedTab, setSelectedTab] = useState(\"Terkini\");\n  const [selectedTabPendapatan, setSelectedTabPendapatan] = useState(\"Terkini\");\n\n  // State untuk bulan yang sedang aktif/terpilih\n  const getCurrentMonthYear = () => {\n    const today = new Date();\n    const year = today.getFullYear();\n    const month = String(today.getMonth() + 1).padStart(2, '0');\n    return `${year}-${month}`;\n  };\n  const [selectedMonth, setSelectedMonth] = useState(getCurrentMonthYear());\n  // selectedMonthAkun tidak diperlukan jika akun tidak dikelompokkan per bulan\n  // Jika akun juga dikelompokkan per bulan, Anda perlu state terpisah seperti ini:\n  // const [selectedMonthAkun, setSelectedMonthAkun] = useState(getCurrentMonthYear());\n\n  // Fungsi untuk mengambil semua data dari backend\n  const fetchData = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      // Ambil semua data yang diperlukan secara paralel\n      // getBudgets() sekarang harus mengembalikan SEMUA budget dari backend\n      const [accountData, fetchedBudgetsRaw, transactionData, categoryData] = await Promise.all([getAccounts(), getBudgets(),\n      // <-- PENTING: getBudgets() dipanggil tanpa parameter\n      getTransactions(), getCategories()]);\n\n      // Update state accounts dan categories\n      setAccounts(accountData);\n      setCategories(categoryData);\n\n      // Transformasi data budget dari format backend ke format frontend\n      const transformedBudgets = transformBudgetsData(fetchedBudgetsRaw);\n      setBudgetsByMonth(transformedBudgets);\n\n      // Filter transaksi menjadi pengeluaran dan pendapatan\n      const expenseTxs = transactionData.filter(tx => tx.type === 'expense');\n      const incomeTxs = transactionData.filter(tx => tx.type === 'income');\n      setTransactions(expenseTxs);\n      setPendapatan(incomeTxs);\n\n      // Logika untuk mengatur bulan yang terpilih secara default\n      const sortedMonths = Object.keys(transformedBudgets).sort((a, b) => new Date(a) - new Date(b));\n      if (sortedMonths.length > 0) {\n        // Jika sudah ada bulan yang tersimpan, coba pertahankan selectedMonth saat ini\n        // atau set ke bulan terbaru jika selectedMonth tidak valid/kosong\n        if (!selectedMonth || !transformedBudgets[selectedMonth]) {\n          setSelectedMonth(sortedMonths[sortedMonths.length - 1]); // Set ke bulan terbaru\n        }\n      } else {\n        // Jika tidak ada bulan sama sekali di database, set ke bulan saat ini\n        setSelectedMonth(getCurrentMonthYear());\n      }\n    } catch (error) {\n      console.error(\"Gagal mengambil data:\", error);\n      // alert(\"Gagal memuat data. Silakan cek koneksi atau login ulang.\");\n      // navigate('/'); // Contoh: redirect ke login jika ada error API\n    } finally {\n      setIsLoading(false);\n    }\n  }, [selectedMonth]); // selectedMonth sebagai dependency agar fetchData terpanggil saat bulan berubah\n\n  // Panggil fetchData saat komponen mount atau saat selectedMonth berubah\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]); // fetchData adalah dependency karena useCallback\n\n  // Fungsi untuk menambah bulan baru (dipanggil dari ModalAddMonth)\n  const handleAddMonth = async newMonthYYYYMM => {\n    if (budgetsByMonth[newMonthYYYYMM]) {\n      alert(\"Maaf, bulan ini sudah ada!\");\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const [year, month] = newMonthYYYYMM.split('-');\n      if (categories.length === 0) {\n        alert(\"Tidak ada kategori yang ditemukan. Silakan tambahkan kategori terlebih dahulu.\");\n        setIsLoading(false);\n        return;\n      }\n\n      // Buat array Promise untuk setiap kategori untuk menginisialisasi budget 0\n      const budgetPromises = categories.map(async category => {\n        await setBudget({\n          category_id: category.id,\n          amount: 0,\n          // Inisialisasi dengan budget nol\n          year: parseInt(year),\n          month: parseInt(month)\n        });\n      });\n      await Promise.all(budgetPromises); // Tunggu semua inisialisasi selesai\n      await fetchData(); // Refresh data setelah menambahkan bulan baru\n      setSelectedMonth(newMonthYYYYMM);\n      setIsModalAddMonthOpen(false);\n      alert(`Bulan ${formatMonth(newMonthYYYYMM)} berhasil ditambahkan.`);\n    } catch (error) {\n      console.error(\"Gagal menambahkan bulan:\", error);\n      alert(\"Terjadi kesalahan saat menambahkan bulan: \" + error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Fungsi untuk menyimpan perubahan budget (saat input budget diubah)\n  const handleSaveBudget = async (categoryId, amount) => {\n    if (!selectedMonth) {\n      alert(\"Pilih bulan terlebih dahulu!\");\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const [year, month] = selectedMonth.split('-');\n      const parsedAmount = parseFloat(amount) || 0;\n      // Asumsi API setBudget akan mengembalikan objek budget yang diupdate/dibuat\n      const updatedBudget = await setBudget({\n        category_id: categoryId,\n        amount: parsedAmount,\n        year: parseInt(year),\n        month: parseInt(month)\n      });\n\n      // Update state lokal budgetsByMonth secara langsung\n      setBudgetsByMonth(prevBudgets => {\n        const currentMonthBudgets = prevBudgets[selectedMonth] || [];\n        const existingIndex = currentMonthBudgets.findIndex(b => b.category_id === categoryId);\n        let newMonthBudgets;\n        if (existingIndex !== -1) {\n          // Update existing budget\n          newMonthBudgets = currentMonthBudgets.map((b, idx) => idx === existingIndex ? {\n            ...b,\n            amount: parsedAmount\n          } : b);\n        } else {\n          var _categories$find;\n          // Add new budget (should ideally not happen here if categories are pre-initialized)\n          newMonthBudgets = [...currentMonthBudgets, {\n            ...updatedBudget,\n            category_name: (_categories$find = categories.find(c => c.id === categoryId)) === null || _categories$find === void 0 ? void 0 : _categories$find.name\n          }];\n        }\n        return {\n          ...prevBudgets,\n          [selectedMonth]: newMonthBudgets\n        };\n      });\n      alert('Budget berhasil disimpan.');\n      // fetchData(); // Tidak perlu fetchData() jika update state lokal sudah dilakukan dengan benar\n    } catch (error) {\n      console.error(\"Gagal simpan budget:\", error);\n      alert(error.message);\n    } finally {\n      setEditingBudgetId(null); // Tutup mode edit\n      setIsLoading(false);\n    }\n  };\n\n  // Fungsi untuk menghapus transaksi\n  const handleDeleteTransaction = async transactionId => {\n    if (window.confirm(\"Anda yakin ingin menghapus transaksi ini?\")) {\n      try {\n        await deleteTransaction(transactionId);\n        // Update state transaksi secara manual\n        setTransactions(prev => prev.filter(tx => tx.id !== transactionId));\n        setPendapatan(prev => prev.filter(p => p.id !== transactionId));\n        // Panggil fetchData untuk memastikan saldo akun dan budget 'used' terupdate\n        fetchData();\n        alert('Transaksi berhasil dihapus.');\n      } catch (error) {\n        console.error(\"Gagal menghapus transaksi:\", error);\n        alert(error.message);\n      }\n    }\n  };\n\n  // Fungsi untuk menghapus kategori\n  const handleHapusKategori = async categoryId => {\n    if (window.confirm(\"Yakin ingin menghapus kategori ini?\")) {\n      try {\n        await deleteCategory(categoryId);\n        // Update state categories secara langsung\n        setCategories(prev => prev.filter(cat => cat.id !== categoryId));\n\n        // Hapus juga dari budgetsByMonth jika terkait\n        setBudgetsByMonth(prev => {\n          const newBudgets = {\n            ...prev\n          };\n          for (const monthKey in newBudgets) {\n            if (newBudgets[monthKey]) {\n              newBudgets[monthKey] = newBudgets[monthKey].filter(b => b.category_id !== categoryId);\n            }\n          }\n          return newBudgets;\n        });\n\n        // Panggil fetchData karena penghapusan kategori bisa memengaruhi transaksi dan chart\n        fetchData();\n        alert('Kategori berhasil dihapus.');\n      } catch (error) {\n        console.error(\"Gagal hapus kategori:\", error);\n        alert(error.message);\n      }\n    }\n  };\n\n  // Fungsi untuk membuka modal transaksi dalam mode edit\n  const handleOpenEditTransactionModal = transaction => {\n    setSelectedTransaction(transaction);\n    setTransactionModalOpen(true);\n  };\n\n  // Fungsi untuk menyimpan transaksi (tambah/edit)\n  const handleSaveTransaction = async data => {\n    setIsLoading(true);\n    try {\n      let savedTransaction;\n      if (data.id) {\n        const {\n          type,\n          ...updateData\n        } = data;\n        await updateTransaction(data.id, updateData);\n        savedTransaction = {\n          ...data\n        }; // Gunakan data yang dikirim karena API tidak mengembalikan seluruh objek\n      } else {\n        savedTransaction = await createTransaction(data); // Asumsi API mengembalikan objek transaksi yang dibuat\n      }\n\n      // Update state transaksi secara langsung\n      if (savedTransaction.type === 'expense') {\n        setTransactions(prev => {\n          if (data.id) {\n            return prev.map(tx => tx.id === savedTransaction.id ? savedTransaction : tx);\n          } else {\n            return [...prev, savedTransaction];\n          }\n        });\n      } else if (savedTransaction.type === 'income') {\n        setPendapatan(prev => {\n          if (data.id) {\n            return prev.map(tx => tx.id === savedTransaction.id ? savedTransaction : tx);\n          } else {\n            return [...prev, savedTransaction];\n          }\n        });\n      }\n      setTransactionModalOpen(false);\n      // Panggil fetchData untuk memastikan semua data (terutama saldo akun dan budget 'used') terupdate\n      fetchData();\n      alert('Transaksi berhasil disimpan!');\n    } catch (error) {\n      console.error('Gagal menyimpan transaksi:', error);\n      alert(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Fungsi untuk membuka modal tambah kategori\n  const handleOpenAddCategoryModal = () => {\n    setSelectedCategory(null);\n    setCategoryModalOpen(true);\n  };\n\n  // Fungsi untuk membuka modal edit kategori\n  const handleOpenEditCategoryModal = category => {\n    // category dari loop ini sudah memiliki id dan name yang benar\n    setSelectedCategory(category); // Kirim objek kategori lengkap\n    setCategoryModalOpen(true);\n  };\n\n  // Fungsi untuk menyimpan kategori (tambah/edit)\n  const handleSaveCategory = async data => {\n    setIsLoading(true);\n    try {\n      if (data.id) {\n        await updateCategory(data.id, {\n          name: data.name\n        });\n        // Update state categories\n        setCategories(prev => prev.map(cat => cat.id === data.id ? {\n          ...cat,\n          name: data.name\n        } : cat));\n        // Update category name in budgetsByMonth if exists\n        setBudgetsByMonth(prevBudgets => {\n          const newBudgets = {\n            ...prevBudgets\n          };\n          for (const monthKey in newBudgets) {\n            if (newBudgets[monthKey]) {\n              newBudgets[monthKey] = newBudgets[monthKey].map(b => b.category_id === data.id ? {\n                ...b,\n                category_name: data.name\n              } : b);\n            }\n          }\n          return newBudgets;\n        });\n        alert('Nama kategori berhasil diupdate!');\n      } else {\n        const newCategory = await createCategory({\n          name: data.name\n        });\n        setCategories(prev => [...prev, newCategory]);\n        if (data.amount > 0) {\n          const [year, month] = selectedMonth.split('-');\n          // Asumsi setBudget mengembalikan objek budget yang dibuat/diupdate\n          const newBudget = await setBudget({\n            category_id: newCategory.id,\n            amount: data.amount,\n            year: parseInt(year),\n            month: parseInt(month)\n          });\n          // Update state budgetsByMonth\n          setBudgetsByMonth(prevBudgets => {\n            const currentMonthBudgets = prevBudgets[selectedMonth] || [];\n            return {\n              ...prevBudgets,\n              [selectedMonth]: [...currentMonthBudgets, {\n                ...newBudget,\n                category_name: newCategory.name\n              }]\n            };\n          });\n        }\n        alert('Kategori baru berhasil ditambahkan!');\n      }\n      setCategoryModalOpen(false);\n      // fetchData(); // Tidak perlu fetchData jika update state lokal sudah cukup\n    } catch (error) {\n      console.error('Gagal menyimpan kategori:', error);\n      alert(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Fungsi untuk membuka modal tambah akun\n  const handleOpenAddAccountModal = () => setAccountModalOpen(true);\n\n  // Fungsi untuk menyimpan akun (tambah/edit)\n  const handleSaveAccount = async data => {\n    setIsLoading(true);\n    try {\n      let savedAccount;\n      if (data.id) {\n        await updateAccount(data.id, data);\n        savedAccount = {\n          ...data\n        };\n      } else {\n        savedAccount = await createAccount(data);\n      }\n      setAccounts(prev => {\n        if (data.id) {\n          return prev.map(acc => acc.id === savedAccount.id ? savedAccount : acc);\n        } else {\n          return [...prev, savedAccount];\n        }\n      });\n      setAccountModalOpen(false);\n      // Panggil fetchData karena perubahan akun bisa memengaruhi transaksi\n      fetchData();\n      alert('Akun berhasil disimpan!');\n    } catch (error) {\n      alert(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Fungsi untuk menghapus akun\n  const handleDeleteAccount = async accountId => {\n    if (window.confirm('Yakin ingin menghapus akun ini? Aksi ini tidak bisa dibatalkan.')) {\n      try {\n        await deleteAccount(accountId);\n        setAccounts(prev => prev.filter(acc => acc.id !== accountId));\n        // Panggil fetchData karena penghapusan akun mungkin memengaruhi transaksi\n        fetchData();\n        alert('Akun berhasil dihapus.');\n      } catch (error) {\n        alert(error.message);\n      }\n    }\n  };\n\n  // Fungsi untuk membuka modal edit akun\n  const handleOpenEditAccountModal = account => {\n    setSelectedAccount(account);\n    setAccountModalOpen(true);\n  };\n\n  // Fungsi logout\n  const handleLogout = () => {\n    localStorage.removeItem('userToken');\n    navigate('/');\n  };\n\n  // Komponen Circular Progress (untuk visualisasi persentase)\n  const CircularProgress = ({\n    percentage\n  }) => {\n    const pct = Number(percentage);\n    const radius = 20;\n    const stroke = 4;\n    const normalized = radius - stroke / 2;\n    const circumference = 2 * Math.PI * normalized;\n    const clamped = Math.min(pct, 100);\n    const offset = circumference * (1 - clamped / 100);\n    const color = pct > 99 ? 'stroke-red-500' : pct > 50 ? 'stroke-yellow-400' : pct > 0 ? 'stroke-green-400' : 'stroke-transparent';\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5 md:w-6 md:h-6\",\n      viewBox: \"0 0 48 48\",\n      children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n        className: \"stroke-gray-200\",\n        strokeWidth: stroke,\n        fill: \"transparent\",\n        r: normalized,\n        cx: \"24\",\n        cy: \"24\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n        className: `transition-all duration-300 ${color}`,\n        strokeWidth: stroke,\n        fill: \"transparent\",\n        r: normalized,\n        cx: \"24\",\n        cy: \"24\",\n        strokeDasharray: circumference,\n        strokeDashoffset: offset,\n        strokeLinecap: \"round\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Fungsi untuk membuka modal pemilih ikon\n  const handleOpenIconPicker = category => {\n    setIconTargetCategory(category); // category sudah punya id dan name\n    setIconPickerOpen(true);\n  };\n\n  // Fungsi yang dipanggil setelah ikon dipilih dari modal\n  const handleIconSelect = async iconPath => {\n    if (!iconTargetCategory) return;\n    setIsLoading(true);\n    try {\n      await updateCategory(iconTargetCategory.id, {\n        icon_path: iconPath\n      }); // Gunakan category.id\n      // Update state categories secara langsung\n      setCategories(prev => prev.map(cat => cat.id === iconTargetCategory.id ? {\n        ...cat,\n        icon_path: iconPath\n      } : cat));\n      // Update icon_path in budgetsByMonth if exists\n      setBudgetsByMonth(prevBudgets => {\n        const newBudgets = {\n          ...prevBudgets\n        };\n        for (const monthKey in newBudgets) {\n          if (newBudgets[monthKey]) {\n            newBudgets[monthKey] = newBudgets[monthKey].map(b => b.category_id === iconTargetCategory.id ? {\n              ...b,\n              icon_path: iconPath\n            } : b);\n          }\n        }\n        return newBudgets;\n      });\n      setIconPickerOpen(false);\n      alert('Ikon berhasil diupdate!');\n    } catch (error) {\n      console.error(\"Gagal update ikon:\", error);\n      alert(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Tampilkan loading screen jika isLoading true\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen bg-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xl font-semibold text-gray-700\",\n        children: \"Memuat data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 9\n    }, this);\n  }\n\n  // Tampilan Utama Aplikasi\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center justify-center min-h-screen bg-gray-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row w-full bg-black shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"px-5 py-4 text-xl font-bold text-white\",\n        children: \"=\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full bg-gray-700 shadow-md text-center py-9 md:py-32 lg:py-32 animate-fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"font-semibold text-white mb-4 text-4xl md:text-6xl lg:text-7xl\",\n        children: \"DuitKu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        className: \"absolute top-4 right-4 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg shadow transition-colors duration-200\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center mt-5 animate-slide-in-up px-4 sm:px-6 md:px-8 lg:px-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-flex rounded-full overflow-hidden shadow-md border border-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-gray-500 text-white px-6 py-2 text-sm md:text-base font-medium rounded-l-full\",\n          children: \"Transaksi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/hutang\"),\n          className: \"bg-white text-gray-500 hover:bg-gray-100 px-6 py-2 text-sm md:text-base font-medium rounded-r-full transition-colors duration-200\",\n          children: \"Hutang\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-6 px-4 flex flex-col lg:flex-row bg-gray-200 w-full lg:px-10 animate-fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col w-full lg:w-1/6 lg:pr-4 mb-8 lg:mb-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-500 rounded-md text-sm md:text-base lg:text-lg font-bold text-white px-2 py-1 mb-2 w-full sm:w-3/4 animate-fade-in-down\",\n            children: \"Kategori Bulanan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 py-2 animate-slide-in-up\",\n            style: {\n              animationDelay: '0.2s'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"month-select\",\n              className: \"text-sm font-semibold mr-2 text-gray-700\",\n              children: \"Pilih Bulan:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"month-select\",\n              value: selectedMonth,\n              onChange: e => {\n                const val = e.target.value;\n                if (val === \"add_new\") {\n                  setIsModalAddMonthOpen(true);\n                } else {\n                  setSelectedMonth(val);\n                }\n              },\n              className: \"rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-all duration-200 text-sm md:text-base\",\n              children: [Object.keys(budgetsByMonth).sort((a, b) => new Date(a) - new Date(b)).map(monthKey => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: monthKey,\n                children: formatMonth(monthKey)\n              }, monthKey, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"add_new\",\n                children: \"+ Tambah Bulan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2 py-1 w-full justify-center sm:justify-start\",\n            children: [selectedMonth && categories.length > 0 ? categories.map((category, index) => {\n              var _budgetsByMonth$selec;\n              // Cari budget data untuk kategori ini di bulan yang terpilih\n              const budgetData = (_budgetsByMonth$selec = budgetsByMonth[selectedMonth]) === null || _budgetsByMonth$selec === void 0 ? void 0 : _budgetsByMonth$selec.find(b => b.category_id === category.id);\n\n              // Pastikan amount dan used diinisialisasi ke 0 jika budgetData tidak ada\n              const budgetAmount = budgetData ? parseFloat(budgetData.amount) || 0 : 0;\n              const usedAmount = budgetData ? parseFloat(budgetData.used) || 0 : 0;\n              const percentage = budgetAmount > 0 ? usedAmount / budgetAmount * 100 : 0;\n              const isEditing = editingBudgetId === category.id;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full sm:w-[calc(50%-0.5rem)] lg:w-full animate-slide-in-up\",\n                style: {\n                  animationDelay: `${0.2 + 0.1 * index}s`\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white border rounded-xl px-2 py-1 gap-1 flex flex-col w-full border-gray-300 hover:shadow-md transition-shadow duration-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-row items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-8 h-8 rounded-full border bg-gray-200 flex items-center justify-center cursor-pointer mr-2 flex-shrink-0 hover:scale-110 transition-transform duration-200\",\n                      onClick: () => handleOpenIconPicker(category),\n                      title: \"Ubah Ikon\",\n                      children: category.icon_path ? /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: category.icon_path,\n                        alt: category.name,\n                        className: \"w-full h-full object-cover rounded-full\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 637,\n                        columnNumber: 37\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-gray-500 text-xl font-light\",\n                        children: \"+\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 639,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 631,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs md:text-sm lg:text-[12px] xl:text-[14px] text-left flex-grow\",\n                      children: category.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 642,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(DropdownAksi, {\n                      onEdit: () => handleOpenEditCategoryModal(category),\n                      onDelete: () => handleHapusKategori(category.id)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 645,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 630,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs md:text-sm lg:text-[12px] xl:text-[14px] mt-1 w-fit relative group inline-block\",\n                    children: isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      value: editingBudgetAmount,\n                      onChange: e => setEditingBudgetAmount(e.target.value),\n                      onBlur: () => handleSaveBudget(category.id, editingBudgetAmount),\n                      onKeyDown: e => {\n                        if (e.key === 'Enter') handleSaveBudget(category.id, editingBudgetAmount);\n                      },\n                      autoFocus: true,\n                      className: \"w-24 border-b-2 border-blue-500 outline-none\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 652,\n                      columnNumber: 33\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      onClick: () => {\n                        setEditingBudgetId(category.id);\n                        setEditingBudgetAmount(budgetAmount);\n                      },\n                      className: \"cursor-pointer\",\n                      children: [\"Rp \", budgetAmount.toLocaleString('id-ID')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 662,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-row gap-1 items-center relative w-fit group cursor-pointer\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs md:text-sm lg:text-[12px] xl:text-[14px]\",\n                      children: [percentage.toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 673,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(CircularProgress, {\n                      percentage: percentage\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 676,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"absolute left-full top-1/2 ml-2 -translate-y-1/2\\r bg-gray-500 text-white text-xs md:text-sm lg:text-[12px] xl:text-[14px] px-1 py-1 rounded \\r opacity-0 group-hover:opacity-100 transition-all duration-200 \\r whitespace-nowrap z-10\\r pointer-events-none\",\n                      children: \"Pemakaian\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 677,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 672,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 629,\n                  columnNumber: 23\n                }, this)\n              }, category.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 21\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"p-2 text-sm text-gray-500 w-full text-center\",\n              children: [selectedMonth ? \"Tidak ada budget atau kategori untuk bulan ini.\" : \"Pilih bulan untuk melihat budget.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 21\n              }, this), categories.length === 0 && \"Tambahkan kategori terlebih dahulu.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleOpenAddCategoryModal,\n              className: \"bg-gray-100 text-gray-300 text-xs md:text-sm xl:text-[15px] px-5 py-2 rounded hover:bg-gray-200 hover:text-gray-500 transition-colors duration-200 w-full sm:w-[calc(50%-0.5rem)] lg:w-full\",\n              children: \"+ Tambah Kategori\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col w-full mt-7\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-500 rounded-md text-sm md:text-base lg:text-lg font-bold text-white px-2 py-1 mb-2 w-full sm:w-3/4 animate-fade-in-down\",\n            children: \"Daftar Akun\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2 py-1 w-full justify-center sm:justify-start\",\n            children: [accounts.length > 0 ? accounts.map(account => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full sm:w-[calc(50%-0.5rem)] lg:w-full animate-slide-in-up\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white border rounded-xl px-2 py-2 gap-1 flex flex-col w-full border-gray-300 hover:shadow-md transition-shadow duration-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-row justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs md:text-sm lg:text-[12px] xl:text-[14px] font-medium text-gray-800\",\n                    children: account.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 717,\n                    columnNumber: 38\n                  }, this), /*#__PURE__*/_jsxDEV(DropdownAksi, {\n                    onEdit: () => handleOpenEditAccountModal(account),\n                    onDelete: () => handleDeleteAccount(account.id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 718,\n                    columnNumber: 38\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 716,\n                  columnNumber: 34\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs md:text-sm lg:text-[12px] xl:text-[14px] font-semibold text-gray-900\",\n                  children: [\"Rp \", Number(account.balance).toLocaleString('id-ID')]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 723,\n                  columnNumber: 34\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 715,\n                columnNumber: 31\n              }, this)\n            }, account.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 27\n            }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"p-2 text-xs md:text-sm text-gray-500 w-full text-center\",\n              children: \"Belum ada akun.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleOpenAddAccountModal,\n              className: \"bg-gray-100 text-gray-400 text-sm px-5 py-2 rounded-xl hover:bg-gray-200 hover:text-gray-500 transition-colors duration-200 w-full sm:w-[calc(50%-0.5rem)] lg:w-full\",\n              children: \"+ Tambah Akun\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full lg:w-3/6 px-0 lg:px-2 mt-8 lg:mt-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-300 rounded-md text-base md:text-xl lg:text-2xl font-bold text-white mx-0 sm:mx-2 px-2 py-1 mb-2 w-full sm:w-5/6 animate-fade-in-down\",\n            children: \"Transaksi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b border-gray-200 dark:border-gray-700 mb-2 animate-slide-in-up\",\n            style: {\n              animationDelay: '0.4s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400\",\n              children: [\"Terkini\", \"Harian\", \"Bulanan\", \"Tahunan\"].map(tab => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"me-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedTab(tab),\n                  className: `inline-flex items-center justify-center p-3 sm:p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group transition-colors duration-200 text-sm sm:text-base ${selectedTab === tab ? \"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500\" : \"border-transparent\"}`,\n                  children: tab\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 752,\n                  columnNumber: 21\n                }, this)\n              }, tab, false, {\n                fileName: _jsxFileName,\n                lineNumber: 751,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 13\n          }, this), selectedTab === \"Terkini\" && /*#__PURE__*/_jsxDEV(Recent, {\n            budgets: budgetsByMonth,\n            akun: accounts,\n            transactions: transactions,\n            type: \"Budget\",\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 767,\n            columnNumber: 15\n          }, this), selectedTab === \"Harian\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: budgetsByMonth,\n            akun: accounts,\n            tab: \"Harian\",\n            transactions: transactions,\n            setTransactions: setTransactions,\n            type: \"Budget\",\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 777,\n            columnNumber: 15\n          }, this), selectedTab === \"Bulanan\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: budgetsByMonth,\n            akun: accounts,\n            tab: \"Bulanan\",\n            transactions: transactions,\n            setTransactions: setTransactions,\n            type: \"Budget\",\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 15\n          }, this), selectedTab === \"Tahunan\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: budgetsByMonth,\n            akun: accounts,\n            tab: \"Tahunan\",\n            transactions: transactions,\n            setTransactions: setTransactions,\n            type: \"Budget\",\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 801,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col mt-8 lg:mt-10\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-300 rounded-md text-base md:text-xl lg:text-2xl font-bold text-white mx-0 sm:mx-2 px-2 py-1 mb-2 w-full sm:w-5/6 animate-fade-in-down\",\n            children: \"Pendapatan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b border-gray-200 dark:border-gray-700 mb-2 animate-slide-in-up\",\n            style: {\n              animationDelay: '0.5s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400\",\n              children: [\"Terkini\", \"Harian\", \"Bulanan\", \"Tahunan\"].map(tab => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"me-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedTabPendapatan(tab),\n                  className: `inline-flex items-center justify-center p-3 sm:p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group transition-colors duration-200 text-sm sm:text-base ${selectedTabPendapatan === tab ? \"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500\" : \"border-transparent\"}`,\n                  children: tab\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 23\n                }, this)\n              }, tab, false, {\n                fileName: _jsxFileName,\n                lineNumber: 821,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 819,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 818,\n            columnNumber: 15\n          }, this), selectedTabPendapatan === \"Terkini\" && /*#__PURE__*/_jsxDEV(Recent, {\n            budgets: null,\n            akun: accounts,\n            transactions: pendapatan,\n            onDelete: handleDeleteTransaction,\n            onEdit: handleOpenEditTransactionModal,\n            type: \"Akun\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 19\n          }, this), selectedTabPendapatan === \"Harian\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: null,\n            akun: accounts,\n            tab: \"Harian\",\n            transactions: pendapatan,\n            setTransactions: setPendapatan,\n            type: \"Akun\",\n            onDelete: handleDeleteTransaction\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 847,\n            columnNumber: 19\n          }, this), selectedTabPendapatan === \"Bulanan\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: null,\n            akun: accounts,\n            tab: \"Bulanan\",\n            transactions: pendapatan,\n            setTransactions: setPendapatan,\n            type: \"Akun\",\n            onDelete: handleDeleteTransaction\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 19\n          }, this), selectedTabPendapatan === \"Tahunan\" && /*#__PURE__*/_jsxDEV(FilterTransaksi, {\n            budgets: null,\n            akun: accounts,\n            tab: \"Tahunan\",\n            transactions: pendapatan,\n            setTransactions: setPendapatan,\n            type: \"Akun\",\n            onDelete: handleDeleteTransaction\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 869,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 814,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full lg:w-2/6 px-0 sm:px-2 mt-8 lg:mt-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-300 rounded-md text-base md:text-xl lg:text-2xl font-bold text-white mx-0 sm:mx-2 px-2 py-1 mb-2 w-full animate-fade-in-down\",\n            children: \"Graph Pengeluaran\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 885,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ChartKeuangan, {\n            transactions: transactions,\n            type: \"expense\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 888,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 884,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col mt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bg-gray-300 rounded-md text-base md:text-xl lg:text-2xl font-bold text-white mx-0 sm:mx-2 px-2 py-1 mb-2 w-full animate-fade-in-down\",\n            children: \"Graph Pendapatan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ChartKeuangan, {\n            transactions: pendapatan,\n            type: \"income\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 894,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 883,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalAddMonth, {\n      isOpen: isModalAddMonthOpen,\n      onClose: () => setIsModalAddMonthOpen(false),\n      onAddMonth: handleAddMonth\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 900,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalTransaksi, {\n      isOpen: isTransactionModalOpen,\n      onClose: () => setTransactionModalOpen(false),\n      onSave: handleSaveTransaction,\n      initialData: selectedTransaction,\n      categories: categories,\n      accounts: accounts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 905,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalKategori, {\n      isOpen: isCategoryModalOpen,\n      onClose: () => setCategoryModalOpen(false),\n      onSave: handleSaveCategory,\n      initialData: selectedCategory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 913,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalAkun, {\n      isOpen: isAccountModalOpen,\n      onClose: () => setAccountModalOpen(false),\n      onSave: handleSaveAccount,\n      initialData: selectedAccount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 919,\n      columnNumber: 7\n    }, this), isIconPickerOpen && /*#__PURE__*/_jsxDEV(IconPickerModal, {\n      onClose: () => setIconPickerOpen(false),\n      onSelect: handleIconSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 926,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 538,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"+kz3ta8719NxzB4pp/luZmiwpAU=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","ModalAddMonth","IconPickerModal","Recent","FilterTransaksi","ChartKeuangan","ModalTransaksi","ModalKategori","ModalAkun","transformBudgetsData","useNavigate","DropdownAksi","getTransactions","getBudgets","getCategories","deleteTransaction","deleteCategory","setBudget","createTransaction","updateTransaction","createCategory","updateCategory","createAccount","getAccounts","updateAccount","deleteAccount","jsxDEV","_jsxDEV","formatMonth","monthString","year","month","split","date","Date","parseInt","Intl","DateTimeFormat","format","App","_s","navigate","accounts","setAccounts","budgetsByMonth","setBudgetsByMonth","transactions","setTransactions","pendapatan","setPendapatan","categories","setCategories","isTransactionModalOpen","setTransactionModalOpen","selectedTransaction","setSelectedTransaction","isCategoryModalOpen","setCategoryModalOpen","selectedCategory","setSelectedCategory","isAccountModalOpen","setAccountModalOpen","selectedAccount","setSelectedAccount","isModalAddMonthOpen","setIsModalAddMonthOpen","isIconPickerOpen","setIconPickerOpen","iconTargetCategory","setIconTargetCategory","editingBudgetId","setEditingBudgetId","editingBudgetAmount","setEditingBudgetAmount","isLoading","setIsLoading","selectedTab","setSelectedTab","selectedTabPendapatan","setSelectedTabPendapatan","getCurrentMonthYear","today","getFullYear","String","getMonth","padStart","selectedMonth","setSelectedMonth","fetchData","accountData","fetchedBudgetsRaw","transactionData","categoryData","Promise","all","transformedBudgets","expenseTxs","filter","tx","type","incomeTxs","sortedMonths","Object","keys","sort","a","b","length","error","console","handleAddMonth","newMonthYYYYMM","alert","budgetPromises","map","category","category_id","id","amount","message","handleSaveBudget","categoryId","parsedAmount","parseFloat","updatedBudget","prevBudgets","currentMonthBudgets","existingIndex","findIndex","newMonthBudgets","idx","_categories$find","category_name","find","c","name","handleDeleteTransaction","transactionId","window","confirm","prev","p","handleHapusKategori","cat","newBudgets","monthKey","handleOpenEditTransactionModal","transaction","handleSaveTransaction","data","savedTransaction","updateData","handleOpenAddCategoryModal","handleOpenEditCategoryModal","handleSaveCategory","newCategory","newBudget","handleOpenAddAccountModal","handleSaveAccount","savedAccount","acc","handleDeleteAccount","accountId","handleOpenEditAccountModal","account","handleLogout","localStorage","removeItem","CircularProgress","percentage","pct","Number","radius","stroke","normalized","circumference","Math","PI","clamped","min","offset","color","className","viewBox","children","strokeWidth","fill","r","cx","cy","fileName","_jsxFileName","lineNumber","columnNumber","strokeDasharray","strokeDashoffset","strokeLinecap","handleOpenIconPicker","handleIconSelect","iconPath","icon_path","onClick","style","animationDelay","htmlFor","value","onChange","e","val","target","index","_budgetsByMonth$selec","budgetData","budgetAmount","usedAmount","used","isEditing","title","src","alt","onEdit","onDelete","onBlur","onKeyDown","key","autoFocus","toLocaleString","toFixed","balance","tab","budgets","akun","isOpen","onClose","onAddMonth","onSave","initialData","onSelect","_c","$RefreshReg$"],"sources":["E:/testis/frontend/src/HalamanUtama.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\r\nimport ModalAddMonth from \"./ModalAddMonth\";\r\nimport IconPickerModal from \"./IconPickerModal\";\r\nimport Recent from './RecentTransaction';\r\nimport FilterTransaksi from './FilterTransaksi';\r\nimport ChartKeuangan from './ChartKeuangan';\r\nimport ModalTransaksi from './ModalTransaksi';\r\nimport ModalKategori from './ModalKategori';\r\nimport ModalAkun from './ModalAkun';\r\nimport { transformBudgetsData } from './util/dataTransformer'; // Hanya import transformBudgetsData\r\nimport { useNavigate } from 'react-router-dom';\r\nimport DropdownAksi from \"./DropdownButton\";\r\nimport { \r\n  getTransactions, getBudgets, getCategories, deleteTransaction, \r\n  deleteCategory, setBudget, createTransaction, updateTransaction, \r\n  createCategory, updateCategory, createAccount, getAccounts, \r\n  updateAccount, deleteAccount\r\n} from './apiservice'; // Pastikan semua fungsi API diimpor\r\n\r\n// Fungsi helper untuk memformat bulan (misal: \"Juli 2025\")\r\nconst formatMonth = (monthString) => {\r\n    if (!monthString) return '';\r\n    const [year, month] = monthString.split('-');\r\n    const date = new Date(parseInt(year), parseInt(month) - 1);\r\n    return new Intl.DateTimeFormat('id-ID', { year: 'numeric', month: 'long' }).format(date);\r\n};\r\n\r\nfunction App() {\r\n  const navigate = useNavigate();\r\n\r\n  // State untuk data utama aplikasi\r\n  const [accounts, setAccounts] = useState([]); // Array datar akun\r\n  // budgetsByMonth: { \"YYYY-MM\": [{ id: ..., name: ..., budgets: ..., used: ..., icon: ..., akunDipakai: ... }, ...] }\r\n  const [budgetsByMonth, setBudgetsByMonth] = useState({});\r\n  const [transactions, setTransactions] = useState([]); // Pengeluaran\r\n  const [pendapatan, setPendapatan] = useState([]); // Pendapatan\r\n  const [categories, setCategories] = useState([]); // Array datar kategori\r\n\r\n  // State untuk kontrol modal dan item terpilih\r\n  const [isTransactionModalOpen, setTransactionModalOpen] = useState(false);\r\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\r\n  const [isCategoryModalOpen, setCategoryModalOpen] = useState(false);\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  const [isAccountModalOpen, setAccountModalOpen] = useState(false);\r\n  const [selectedAccount, setSelectedAccount] = useState(null);\r\n  const [isModalAddMonthOpen, setIsModalAddMonthOpen] = useState(false);\r\n  const [isIconPickerOpen, setIconPickerOpen] = useState(false);\r\n  const [iconTargetCategory, setIconTargetCategory] = useState(null);\r\n\r\n  // State untuk input budget yang sedang diedit\r\n  const [editingBudgetId, setEditingBudgetId] = useState(null);\r\n  const [editingBudgetAmount, setEditingBudgetAmount] = useState('');\r\n\r\n  // State untuk loading dan tab yang terpilih\r\n  const [isLoading, setIsLoading] = useState(true); // Default true agar loading saat pertama kali\r\n  const [selectedTab, setSelectedTab] = useState(\"Terkini\");\r\n  const [selectedTabPendapatan, setSelectedTabPendapatan] = useState(\"Terkini\");\r\n\r\n  // State untuk bulan yang sedang aktif/terpilih\r\n  const getCurrentMonthYear = () => {\r\n    const today = new Date();\r\n    const year = today.getFullYear();\r\n    const month = String(today.getMonth() + 1).padStart(2, '0');\r\n    return `${year}-${month}`;\r\n  };\r\n  const [selectedMonth, setSelectedMonth] = useState(getCurrentMonthYear());\r\n  // selectedMonthAkun tidak diperlukan jika akun tidak dikelompokkan per bulan\r\n  // Jika akun juga dikelompokkan per bulan, Anda perlu state terpisah seperti ini:\r\n  // const [selectedMonthAkun, setSelectedMonthAkun] = useState(getCurrentMonthYear());\r\n\r\n\r\n  // Fungsi untuk mengambil semua data dari backend\r\n  const fetchData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      // Ambil semua data yang diperlukan secara paralel\r\n      // getBudgets() sekarang harus mengembalikan SEMUA budget dari backend\r\n      const [accountData, fetchedBudgetsRaw, transactionData, categoryData] = await Promise.all([\r\n        getAccounts(),\r\n        getBudgets(), // <-- PENTING: getBudgets() dipanggil tanpa parameter\r\n        getTransactions(),\r\n        getCategories()\r\n      ]);\r\n\r\n      // Update state accounts dan categories\r\n      setAccounts(accountData);\r\n      setCategories(categoryData);\r\n\r\n      // Transformasi data budget dari format backend ke format frontend\r\n      const transformedBudgets = transformBudgetsData(fetchedBudgetsRaw);\r\n      setBudgetsByMonth(transformedBudgets);\r\n\r\n      // Filter transaksi menjadi pengeluaran dan pendapatan\r\n      const expenseTxs = transactionData.filter(tx => tx.type === 'expense');\r\n      const incomeTxs = transactionData.filter(tx => tx.type === 'income');\r\n      setTransactions(expenseTxs);\r\n      setPendapatan(incomeTxs);\r\n\r\n      // Logika untuk mengatur bulan yang terpilih secara default\r\n      const sortedMonths = Object.keys(transformedBudgets).sort((a, b) => new Date(a) - new Date(b));\r\n      if (sortedMonths.length > 0) {\r\n        // Jika sudah ada bulan yang tersimpan, coba pertahankan selectedMonth saat ini\r\n        // atau set ke bulan terbaru jika selectedMonth tidak valid/kosong\r\n        if (!selectedMonth || !transformedBudgets[selectedMonth]) {\r\n          setSelectedMonth(sortedMonths[sortedMonths.length - 1]); // Set ke bulan terbaru\r\n        }\r\n      } else {\r\n        // Jika tidak ada bulan sama sekali di database, set ke bulan saat ini\r\n        setSelectedMonth(getCurrentMonthYear());\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(\"Gagal mengambil data:\", error);\r\n      // alert(\"Gagal memuat data. Silakan cek koneksi atau login ulang.\");\r\n      // navigate('/'); // Contoh: redirect ke login jika ada error API\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [selectedMonth]); // selectedMonth sebagai dependency agar fetchData terpanggil saat bulan berubah\r\n\r\n  // Panggil fetchData saat komponen mount atau saat selectedMonth berubah\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [fetchData]); // fetchData adalah dependency karena useCallback\r\n\r\n  // Fungsi untuk menambah bulan baru (dipanggil dari ModalAddMonth)\r\n  const handleAddMonth = async (newMonthYYYYMM) => {\r\n    if (budgetsByMonth[newMonthYYYYMM]) {\r\n      alert(\"Maaf, bulan ini sudah ada!\");\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      const [year, month] = newMonthYYYYMM.split('-');\r\n\r\n      if (categories.length === 0) {\r\n        alert(\"Tidak ada kategori yang ditemukan. Silakan tambahkan kategori terlebih dahulu.\");\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Buat array Promise untuk setiap kategori untuk menginisialisasi budget 0\r\n      const budgetPromises = categories.map(async (category) => {\r\n        await setBudget({\r\n          category_id: category.id,\r\n          amount: 0, // Inisialisasi dengan budget nol\r\n          year: parseInt(year),\r\n          month: parseInt(month),\r\n        });\r\n      });\r\n\r\n      await Promise.all(budgetPromises); // Tunggu semua inisialisasi selesai\r\n      await fetchData(); // Refresh data setelah menambahkan bulan baru\r\n      setSelectedMonth(newMonthYYYYMM);\r\n      setIsModalAddMonthOpen(false);\r\n      alert(`Bulan ${formatMonth(newMonthYYYYMM)} berhasil ditambahkan.`);\r\n    } catch (error) {\r\n      console.error(\"Gagal menambahkan bulan:\", error);\r\n      alert(\"Terjadi kesalahan saat menambahkan bulan: \" + error.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk menyimpan perubahan budget (saat input budget diubah)\r\n  const handleSaveBudget = async (categoryId, amount) => {\r\n    if (!selectedMonth) {\r\n      alert(\"Pilih bulan terlebih dahulu!\");\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    try {\r\n      const [year, month] = selectedMonth.split('-');\r\n      const parsedAmount = parseFloat(amount) || 0;\r\n      // Asumsi API setBudget akan mengembalikan objek budget yang diupdate/dibuat\r\n      const updatedBudget = await setBudget({\r\n        category_id: categoryId,\r\n        amount: parsedAmount,\r\n        year: parseInt(year),\r\n        month: parseInt(month),\r\n      });\r\n\r\n      // Update state lokal budgetsByMonth secara langsung\r\n      setBudgetsByMonth(prevBudgets => {\r\n        const currentMonthBudgets = prevBudgets[selectedMonth] || [];\r\n        const existingIndex = currentMonthBudgets.findIndex(b => b.category_id === categoryId);\r\n        \r\n        let newMonthBudgets;\r\n        if (existingIndex !== -1) {\r\n            // Update existing budget\r\n            newMonthBudgets = currentMonthBudgets.map((b, idx) => \r\n                idx === existingIndex ? { ...b, amount: parsedAmount } : b\r\n            );\r\n        } else {\r\n            // Add new budget (should ideally not happen here if categories are pre-initialized)\r\n            newMonthBudgets = [...currentMonthBudgets, { ...updatedBudget, category_name: categories.find(c => c.id === categoryId)?.name }];\r\n        }\r\n\r\n        return {\r\n          ...prevBudgets,\r\n          [selectedMonth]: newMonthBudgets\r\n        };\r\n      });\r\n\r\n      alert('Budget berhasil disimpan.');\r\n      // fetchData(); // Tidak perlu fetchData() jika update state lokal sudah dilakukan dengan benar\r\n    } catch (error) {\r\n      console.error(\"Gagal simpan budget:\", error);\r\n      alert(error.message);\r\n    } finally {\r\n      setEditingBudgetId(null); // Tutup mode edit\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk menghapus transaksi\r\n  const handleDeleteTransaction = async (transactionId) => {\r\n    if (window.confirm(\"Anda yakin ingin menghapus transaksi ini?\")) {\r\n      try {\r\n        await deleteTransaction(transactionId);\r\n        // Update state transaksi secara manual\r\n        setTransactions(prev => prev.filter(tx => tx.id !== transactionId));\r\n        setPendapatan(prev => prev.filter(p => p.id !== transactionId));\r\n        // Panggil fetchData untuk memastikan saldo akun dan budget 'used' terupdate\r\n        fetchData(); \r\n        alert('Transaksi berhasil dihapus.');\r\n      } catch (error) {\r\n        console.error(\"Gagal menghapus transaksi:\", error);\r\n        alert(error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk menghapus kategori\r\n  const handleHapusKategori = async (categoryId) => {\r\n    if (window.confirm(\"Yakin ingin menghapus kategori ini?\")) {\r\n      try {\r\n        await deleteCategory(categoryId);\r\n        // Update state categories secara langsung\r\n        setCategories(prev => prev.filter(cat => cat.id !== categoryId));\r\n        \r\n        // Hapus juga dari budgetsByMonth jika terkait\r\n        setBudgetsByMonth(prev => {\r\n          const newBudgets = { ...prev };\r\n          for (const monthKey in newBudgets) {\r\n            if (newBudgets[monthKey]) {\r\n                newBudgets[monthKey] = newBudgets[monthKey].filter(b => b.category_id !== categoryId);\r\n            }\r\n          }\r\n          return newBudgets;\r\n        });\r\n        \r\n        // Panggil fetchData karena penghapusan kategori bisa memengaruhi transaksi dan chart\r\n        fetchData(); \r\n        alert('Kategori berhasil dihapus.');\r\n      } catch (error) {\r\n        console.error(\"Gagal hapus kategori:\", error);\r\n        alert(error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk membuka modal transaksi dalam mode edit\r\n  const handleOpenEditTransactionModal = (transaction) => {\r\n    setSelectedTransaction(transaction);\r\n    setTransactionModalOpen(true);\r\n  };\r\n\r\n  // Fungsi untuk menyimpan transaksi (tambah/edit)\r\n  const handleSaveTransaction = async (data) => {\r\n    setIsLoading(true);\r\n    try {\r\n      let savedTransaction;\r\n      if (data.id) {\r\n        const { type, ...updateData } = data;\r\n        await updateTransaction(data.id, updateData);\r\n        savedTransaction = { ...data }; // Gunakan data yang dikirim karena API tidak mengembalikan seluruh objek\r\n      } else {\r\n        savedTransaction = await createTransaction(data); // Asumsi API mengembalikan objek transaksi yang dibuat\r\n      }\r\n\r\n      // Update state transaksi secara langsung\r\n      if (savedTransaction.type === 'expense') {\r\n        setTransactions(prev => {\r\n          if (data.id) {\r\n            return prev.map(tx => tx.id === savedTransaction.id ? savedTransaction : tx);\r\n          } else {\r\n            return [...prev, savedTransaction];\r\n          }\r\n        });\r\n      } else if (savedTransaction.type === 'income') {\r\n        setPendapatan(prev => {\r\n          if (data.id) {\r\n            return prev.map(tx => tx.id === savedTransaction.id ? savedTransaction : tx);\r\n          } else {\r\n            return [...prev, savedTransaction];\r\n          }\r\n        });\r\n      }\r\n\r\n      setTransactionModalOpen(false);\r\n      // Panggil fetchData untuk memastikan semua data (terutama saldo akun dan budget 'used') terupdate\r\n      fetchData(); \r\n      alert('Transaksi berhasil disimpan!');\r\n    } catch (error) {\r\n      console.error('Gagal menyimpan transaksi:', error);\r\n      alert(error.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk membuka modal tambah kategori\r\n  const handleOpenAddCategoryModal = () => {\r\n    setSelectedCategory(null);\r\n    setCategoryModalOpen(true);\r\n  };\r\n\r\n  // Fungsi untuk membuka modal edit kategori\r\n  const handleOpenEditCategoryModal = (category) => {\r\n    // category dari loop ini sudah memiliki id dan name yang benar\r\n    setSelectedCategory(category); // Kirim objek kategori lengkap\r\n    setCategoryModalOpen(true);\r\n  };\r\n\r\n  // Fungsi untuk menyimpan kategori (tambah/edit)\r\n  const handleSaveCategory = async (data) => {\r\n    setIsLoading(true);\r\n    try {\r\n      if (data.id) {\r\n        await updateCategory(data.id, { name: data.name });\r\n        // Update state categories\r\n        setCategories(prev => \r\n          prev.map(cat => cat.id === data.id ? { ...cat, name: data.name } : cat)\r\n        );\r\n        // Update category name in budgetsByMonth if exists\r\n        setBudgetsByMonth(prevBudgets => {\r\n            const newBudgets = { ...prevBudgets };\r\n            for (const monthKey in newBudgets) {\r\n                if (newBudgets[monthKey]) {\r\n                    newBudgets[monthKey] = newBudgets[monthKey].map(b =>\r\n                        b.category_id === data.id ? { ...b, category_name: data.name } : b\r\n                    );\r\n                }\r\n            }\r\n            return newBudgets;\r\n        });\r\n        alert('Nama kategori berhasil diupdate!');\r\n      } else {\r\n        const newCategory = await createCategory({ name: data.name });\r\n        setCategories(prev => [...prev, newCategory]);\r\n\r\n        if (data.amount > 0) {\r\n          const [year, month] = selectedMonth.split('-');\r\n          // Asumsi setBudget mengembalikan objek budget yang dibuat/diupdate\r\n          const newBudget = await setBudget({ \r\n            category_id: newCategory.id,\r\n            amount: data.amount,\r\n            year: parseInt(year),\r\n            month: parseInt(month),\r\n          });\r\n          // Update state budgetsByMonth\r\n          setBudgetsByMonth(prevBudgets => {\r\n            const currentMonthBudgets = prevBudgets[selectedMonth] || [];\r\n            return {\r\n              ...prevBudgets,\r\n              [selectedMonth]: [...currentMonthBudgets, { ...newBudget, category_name: newCategory.name }]\r\n            };\r\n          });\r\n        }\r\n        alert('Kategori baru berhasil ditambahkan!');\r\n      }\r\n      setCategoryModalOpen(false);\r\n      // fetchData(); // Tidak perlu fetchData jika update state lokal sudah cukup\r\n    } catch (error) {\r\n      console.error('Gagal menyimpan kategori:', error);\r\n      alert(error.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk membuka modal tambah akun\r\n  const handleOpenAddAccountModal = () => setAccountModalOpen(true);\r\n\r\n  // Fungsi untuk menyimpan akun (tambah/edit)\r\n  const handleSaveAccount = async (data) => {\r\n    setIsLoading(true);\r\n    try {\r\n      let savedAccount;\r\n      if (data.id) {\r\n        await updateAccount(data.id, data);\r\n        savedAccount = { ...data };\r\n      } else {\r\n        savedAccount = await createAccount(data);\r\n      }\r\n      \r\n      setAccounts(prev => {\r\n        if (data.id) {\r\n          return prev.map(acc => acc.id === savedAccount.id ? savedAccount : acc);\r\n        } else {\r\n          return [...prev, savedAccount];\r\n        }\r\n      });\r\n      setAccountModalOpen(false);\r\n      // Panggil fetchData karena perubahan akun bisa memengaruhi transaksi\r\n      fetchData();\r\n      alert('Akun berhasil disimpan!');\r\n    } catch (error) {\r\n      alert(error.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk menghapus akun\r\n  const handleDeleteAccount = async (accountId) => {\r\n    if(window.confirm('Yakin ingin menghapus akun ini? Aksi ini tidak bisa dibatalkan.')){\r\n      try {\r\n        await deleteAccount(accountId);\r\n        setAccounts(prev => prev.filter(acc => acc.id !== accountId));\r\n        // Panggil fetchData karena penghapusan akun mungkin memengaruhi transaksi\r\n        fetchData();\r\n        alert('Akun berhasil dihapus.');\r\n      } catch (error) {\r\n        alert(error.message);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Fungsi untuk membuka modal edit akun\r\n  const handleOpenEditAccountModal = (account) => {\r\n    setSelectedAccount(account);\r\n    setAccountModalOpen(true);\r\n  };\r\n\r\n  // Fungsi logout\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('userToken');\r\n    navigate('/');\r\n  };\r\n\r\n  // Komponen Circular Progress (untuk visualisasi persentase)\r\n  const CircularProgress = ({ percentage }) => {\r\n    const pct = Number(percentage);\r\n    const radius = 20;\r\n    const stroke = 4;\r\n    const normalized = radius - stroke / 2;\r\n    const circumference = 2 * Math.PI * normalized;\r\n  \r\n    const clamped = Math.min(pct, 100);\r\n    const offset = circumference * (1 - clamped / 100);\r\n  \r\n    const color =\r\n      pct > 99 ? 'stroke-red-500'\r\n      : pct > 50 ? 'stroke-yellow-400'\r\n      : pct > 0 ? 'stroke-green-400'\r\n      : 'stroke-transparent';\r\n  \r\n    return (\r\n      <svg className=\"w-5 h-5 md:w-6 md:h-6\" viewBox=\"0 0 48 48\">\r\n        <circle\r\n          className=\"stroke-gray-200\"\r\n          strokeWidth={stroke}\r\n          fill=\"transparent\"\r\n          r={normalized}\r\n          cx=\"24\"\r\n          cy=\"24\"\r\n        />\r\n        <circle\r\n          className={`transition-all duration-300 ${color}`}\r\n          strokeWidth={stroke}\r\n          fill=\"transparent\"\r\n          r={normalized}\r\n          cx=\"24\"\r\n          cy=\"24\"\r\n          strokeDasharray={circumference}\r\n          strokeDashoffset={offset}\r\n          strokeLinecap=\"round\"\r\n        />\r\n      </svg>\r\n    );\r\n  };\r\n\r\n  // Fungsi untuk membuka modal pemilih ikon\r\n  const handleOpenIconPicker = (category) => {\r\n    setIconTargetCategory(category); // category sudah punya id dan name\r\n    setIconPickerOpen(true);\r\n  };\r\n\r\n  // Fungsi yang dipanggil setelah ikon dipilih dari modal\r\n  const handleIconSelect = async (iconPath) => {\r\n    if (!iconTargetCategory) return;\r\n    setIsLoading(true);\r\n    try {\r\n      await updateCategory(iconTargetCategory.id, { icon_path: iconPath }); // Gunakan category.id\r\n      // Update state categories secara langsung\r\n      setCategories(prev => \r\n        prev.map(cat => \r\n          cat.id === iconTargetCategory.id ? { ...cat, icon_path: iconPath } : cat\r\n        )\r\n      );\r\n      // Update icon_path in budgetsByMonth if exists\r\n        setBudgetsByMonth(prevBudgets => {\r\n            const newBudgets = { ...prevBudgets };\r\n            for (const monthKey in newBudgets) {\r\n                if (newBudgets[monthKey]) {\r\n                    newBudgets[monthKey] = newBudgets[monthKey].map(b =>\r\n                        b.category_id === iconTargetCategory.id ? { ...b, icon_path: iconPath } : b\r\n                    );\r\n                }\r\n            }\r\n            return newBudgets;\r\n        });\r\n\r\n      setIconPickerOpen(false);\r\n      alert('Ikon berhasil diupdate!');\r\n    } catch (error) {\r\n      console.error(\"Gagal update ikon:\", error);\r\n      alert(error.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Tampilkan loading screen jika isLoading true\r\n  if (isLoading) {\r\n    return (\r\n        <div className=\"flex items-center justify-center min-h-screen bg-gray-200\">\r\n            <div className=\"text-xl font-semibold text-gray-700\">Memuat data...</div>\r\n        </div>\r\n    );\r\n  }\r\n\r\n  // Tampilan Utama Aplikasi\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-200\">\r\n      {/* Bagian Header */}\r\n      <div className=\"flex flex-row w-full bg-black shadow-md\">\r\n        <h1 className=\"px-5 py-4 text-xl font-bold text-white\">=</h1>\r\n      </div>\r\n  \r\n      <div className=\"w-full bg-gray-700 shadow-md text-center py-9 md:py-32 lg:py-32 animate-fade-in\">\r\n        <h1 className=\"font-semibold text-white mb-4 text-4xl md:text-6xl lg:text-7xl\">\r\n          DuitKu\r\n        </h1>\r\n        <button\r\n          onClick={handleLogout}\r\n          className=\"absolute top-4 right-4 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg shadow transition-colors duration-200\"\r\n        >\r\n          Logout\r\n        </button>\r\n      </div>\r\n      <div className=\"flex justify-center mt-5 animate-slide-in-up px-4 sm:px-6 md:px-8 lg:px-10\">\r\n        <div className=\"inline-flex rounded-full overflow-hidden shadow-md border border-gray-500\">\r\n          <button\r\n            className=\"bg-gray-500 text-white px-6 py-2 text-sm md:text-base font-medium rounded-l-full\"\r\n          >\r\n            Transaksi\r\n          </button>\r\n          <button\r\n            onClick={() => navigate(\"/hutang\")}\r\n            className=\"bg-white text-gray-500 hover:bg-gray-100 px-6 py-2 text-sm md:text-base font-medium rounded-r-full transition-colors duration-200\"\r\n          >\r\n            Hutang \r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bagian Konten Utama (Kolom-kolom) - Responsif */}\r\n      <div className=\"py-6 px-4 flex flex-col lg:flex-row bg-gray-200 w-full lg:px-10 animate-fade-in\">\r\n        \r\n        {/* Kolom Kiri - Kategori & Daftar Akun */}\r\n        <div className=\"flex flex-col w-full lg:w-1/6 lg:pr-4 mb-8 lg:mb-0\">\r\n          <div className=\"flex flex-col\">\r\n            <h1 className=\"bg-gray-500 rounded-md text-sm md:text-base lg:text-lg font-bold text-white px-2 py-1 mb-2 w-full sm:w-3/4 animate-fade-in-down\">\r\n              Kategori Bulanan\r\n            </h1>\r\n            <div className=\"mb-4 py-2 animate-slide-in-up\" style={{ animationDelay: '0.2s' }}>\r\n              <label htmlFor=\"month-select\" className=\"text-sm font-semibold mr-2 text-gray-700\">\r\n                Pilih Bulan:\r\n              </label>\r\n              <select\r\n                id=\"month-select\"\r\n                value={selectedMonth}\r\n                onChange={(e) => {\r\n                  const val = e.target.value;\r\n                  if (val === \"add_new\") {\r\n                    setIsModalAddMonthOpen(true);\r\n                  } else {\r\n                    setSelectedMonth(val);\r\n                  }\r\n                }}\r\n                className=\"rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-all duration-200 text-sm md:text-base\"\r\n              >\r\n                {/* Render opsi bulan dari budgetsByMonth */}\r\n                {Object.keys(budgetsByMonth)\r\n                  .sort((a, b) => new Date(a) - new Date(b))\r\n                  .map((monthKey) => (\r\n                    <option key={monthKey} value={monthKey}>\r\n                      {formatMonth(monthKey)}\r\n                    </option>\r\n                  ))\r\n                }\r\n                <option value=\"add_new\">+ Tambah Bulan</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-2 py-1 w-full justify-center sm:justify-start\">\r\n              {/* Tampilkan budget per kategori untuk bulan yang terpilih */}\r\n              {selectedMonth && categories.length > 0 ? (\r\n                categories.map((category, index) => {\r\n                  // Cari budget data untuk kategori ini di bulan yang terpilih\r\n                  const budgetData = budgetsByMonth[selectedMonth]?.find(b => b.category_id === category.id);\r\n                  \r\n                  // Pastikan amount dan used diinisialisasi ke 0 jika budgetData tidak ada\r\n                  const budgetAmount = budgetData ? parseFloat(budgetData.amount) || 0 : 0;\r\n                  const usedAmount = budgetData ? parseFloat(budgetData.used) || 0 : 0; \r\n                  \r\n                  const percentage = budgetAmount > 0 ? (usedAmount / budgetAmount) * 100 : 0;\r\n                  const isEditing = editingBudgetId === category.id;\r\n  \r\n                  return (\r\n                    <div\r\n                      key={category.id}\r\n                      className=\"w-full sm:w-[calc(50%-0.5rem)] lg:w-full animate-slide-in-up\"\r\n                      style={{ animationDelay: `${0.2 + (0.1 * index)}s` }}\r\n                    >\r\n                      <div className=\"bg-white border rounded-xl px-2 py-1 gap-1 flex flex-col w-full border-gray-300 hover:shadow-md transition-shadow duration-200\">\r\n                        <div className=\"flex flex-row items-center\">\r\n                          <div\r\n                              className=\"w-8 h-8 rounded-full border bg-gray-200 flex items-center justify-center cursor-pointer mr-2 flex-shrink-0 hover:scale-110 transition-transform duration-200\"\r\n                              onClick={() => handleOpenIconPicker(category)}\r\n                              title=\"Ubah Ikon\"\r\n                            >\r\n                              {category.icon_path ? (\r\n                                    <img src={category.icon_path} alt={category.name} className=\"w-full h-full object-cover rounded-full\" />\r\n                                ) : (\r\n                                    <span className=\"text-gray-500 text-xl font-light\">+</span>\r\n                                )}\r\n                            </div>\r\n                            <span className=\"text-xs md:text-sm lg:text-[12px] xl:text-[14px] text-left flex-grow\">\r\n                              {category.name}\r\n                            </span>\r\n                          <DropdownAksi\r\n                              onEdit={() => handleOpenEditCategoryModal(category)}\r\n                              onDelete={() => handleHapusKategori(category.id)}\r\n                          />\r\n                        </div>\r\n                        <div className=\"text-xs md:text-sm lg:text-[12px] xl:text-[14px] mt-1 w-fit relative group inline-block\">\r\n                            {isEditing ? (\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={editingBudgetAmount}\r\n                                    onChange={(e) => setEditingBudgetAmount(e.target.value)}\r\n                                    onBlur={() => handleSaveBudget(category.id, editingBudgetAmount)}\r\n                                    onKeyDown={(e) => { if (e.key === 'Enter') handleSaveBudget(category.id, editingBudgetAmount) }}\r\n                                    autoFocus\r\n                                    className=\"w-24 border-b-2 border-blue-500 outline-none\"\r\n                                />\r\n                            ) : (\r\n                                <span onClick={() => {\r\n                                    setEditingBudgetId(category.id);\r\n                                    setEditingBudgetAmount(budgetAmount);\r\n                                }}\r\n                                className=\"cursor-pointer\"\r\n                                >\r\n                                    Rp {budgetAmount.toLocaleString('id-ID')}\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"flex flex-row gap-1 items-center relative w-fit group cursor-pointer\">\r\n                          <div className=\"text-xs md:text-sm lg:text-[12px] xl:text-[14px]\">\r\n                            {percentage.toFixed(0)}%\r\n                          </div>\r\n                          <CircularProgress percentage={percentage} />\r\n                          <div className=\"absolute left-full top-1/2 ml-2 -translate-y-1/2\r\n                              bg-gray-500 text-white text-xs md:text-sm lg:text-[12px] xl:text-[14px] px-1 py-1 rounded \r\n                              opacity-0 group-hover:opacity-100 transition-all duration-200 \r\n                              whitespace-nowrap z-10\r\n                              pointer-events-none\">\r\n                            Pemakaian\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })\r\n              ) : (\r\n                <p className=\"p-2 text-sm text-gray-500 w-full text-center\">\r\n                    {selectedMonth ? \"Tidak ada budget atau kategori untuk bulan ini.\" : \"Pilih bulan untuk melihat budget.\"}\r\n                    <br/>\r\n                    {categories.length === 0 && \"Tambahkan kategori terlebih dahulu.\"}\r\n                </p>\r\n              )}\r\n  \r\n              <button\r\n                onClick={handleOpenAddCategoryModal}\r\n                className=\"bg-gray-100 text-gray-300 text-xs md:text-sm xl:text-[15px] px-5 py-2 rounded hover:bg-gray-200 hover:text-gray-500 transition-colors duration-200 w-full sm:w-[calc(50%-0.5rem)] lg:w-full\"\r\n              >\r\n                + Tambah Kategori\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Bagian Daftar Akun */}\r\n          <div className=\"flex flex-col w-full mt-7\">\r\n              <h1 className=\"bg-gray-500 rounded-md text-sm md:text-base lg:text-lg font-bold text-white px-2 py-1 mb-2 w-full sm:w-3/4 animate-fade-in-down\">\r\n                Daftar Akun\r\n              </h1>\r\n              <div className=\"flex flex-wrap gap-2 py-1 w-full justify-center sm:justify-start\">\r\n                  {accounts.length > 0 ? (\r\n                      accounts.map(account => (\r\n                          <div key={account.id} className=\"w-full sm:w-[calc(50%-0.5rem)] lg:w-full animate-slide-in-up\">\r\n                              <div className=\"bg-white border rounded-xl px-2 py-2 gap-1 flex flex-col w-full border-gray-300 hover:shadow-md transition-shadow duration-200\">\r\n                                 <div className=\"flex flex-row justify-between items-center\">\r\n                                     <span className=\"text-xs md:text-sm lg:text-[12px] xl:text-[14px] font-medium text-gray-800\">{account.name}</span>\r\n                                     <DropdownAksi\r\n                                         onEdit={() => handleOpenEditAccountModal(account)}\r\n                                         onDelete={() => handleDeleteAccount(account.id)}\r\n                                     />\r\n                                 </div>\r\n                                 <span className=\"text-xs md:text-sm lg:text-[12px] xl:text-[14px] font-semibold text-gray-900\">\r\n                                     Rp {Number(account.balance).toLocaleString('id-ID')}\r\n                                 </span>\r\n                              </div>\r\n                          </div>\r\n                      ))\r\n                  ) : (\r\n                      <p className=\"p-2 text-xs md:text-sm text-gray-500 w-full text-center\">Belum ada akun.</p>\r\n                  )}\r\n                  <button\r\n                      onClick={handleOpenAddAccountModal}\r\n                      className=\"bg-gray-100 text-gray-400 text-sm px-5 py-2 rounded-xl hover:bg-gray-200 hover:text-gray-500 transition-colors duration-200 w-full sm:w-[calc(50%-0.5rem)] lg:w-full\"\r\n                  >\r\n                      + Tambah Akun\r\n                  </button>\r\n              </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Bagian Tengah - Transaksi & Pendapatan */}\r\n        <div className=\"w-full lg:w-3/6 px-0 lg:px-2 mt-8 lg:mt-0\">\r\n          <div className=\"flex flex-col\">\r\n            <h1 className=\"bg-gray-300 rounded-md text-base md:text-xl lg:text-2xl font-bold text-white mx-0 sm:mx-2 px-2 py-1 mb-2 w-full sm:w-5/6 animate-fade-in-down\">\r\n              Transaksi\r\n            </h1>\r\n            <div className=\"border-b border-gray-200 dark:border-gray-700 mb-2 animate-slide-in-up\" style={{ animationDelay: '0.4s' }}>\r\n              <ul className=\"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400\">\r\n                {[\"Terkini\", \"Harian\",\"Bulanan\",\"Tahunan\"].map((tab) => (\r\n                  <li key={tab} className=\"me-2\">\r\n                    <button\r\n                      onClick={() => setSelectedTab(tab)}\r\n                      className={`inline-flex items-center justify-center p-3 sm:p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group transition-colors duration-200 text-sm sm:text-base ${\r\n                        selectedTab === tab\r\n                          ? \"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500\"\r\n                          : \"border-transparent\"\r\n                      }`}\r\n                    >\r\n                      {tab}\r\n                    </button>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n            {selectedTab === \"Terkini\" && (\r\n              <Recent\r\n                budgets={budgetsByMonth}\r\n                akun={accounts} \r\n                transactions={transactions}\r\n                type={\"Budget\"}\r\n                onDelete={handleDeleteTransaction}\r\n                onEdit={handleOpenEditTransactionModal}\r\n              />\r\n            )}\r\n            {selectedTab === \"Harian\" && (\r\n              <FilterTransaksi\r\n                budgets={budgetsByMonth}\r\n                akun={accounts}\r\n                tab={\"Harian\"}\r\n                transactions={transactions}\r\n                setTransactions={setTransactions}\r\n                type={\"Budget\"}\r\n                onDelete={handleDeleteTransaction}\r\n                onEdit={handleOpenEditTransactionModal}\r\n              />\r\n            )}\r\n            {selectedTab === \"Bulanan\" && (\r\n              <FilterTransaksi\r\n                budgets={budgetsByMonth}\r\n                akun={accounts} \r\n                tab={\"Bulanan\"}\r\n                transactions={transactions}\r\n                setTransactions={setTransactions}\r\n                type={\"Budget\"}\r\n                onDelete={handleDeleteTransaction}\r\n                onEdit={handleOpenEditTransactionModal}\r\n              />\r\n            )}\r\n            {selectedTab === \"Tahunan\" && (\r\n              <FilterTransaksi\r\n                budgets={budgetsByMonth}\r\n                akun={accounts} \r\n                tab={\"Tahunan\"}\r\n                transactions={transactions}\r\n                setTransactions={setTransactions}\r\n                type={\"Budget\"}\r\n                onDelete={handleDeleteTransaction}\r\n                onEdit={handleOpenEditTransactionModal}\r\n              />\r\n            )}\r\n          </div>\r\n  \r\n          <div className=\"flex flex-col mt-8 lg:mt-10\">\r\n              <h1 className=\"bg-gray-300 rounded-md text-base md:text-xl lg:text-2xl font-bold text-white mx-0 sm:mx-2 px-2 py-1 mb-2 w-full sm:w-5/6 animate-fade-in-down\">\r\n                  Pendapatan\r\n              </h1>\r\n              <div className=\"border-b border-gray-200 dark:border-gray-700 mb-2 animate-slide-in-up\" style={{ animationDelay: '0.5s' }}>\r\n                  <ul className=\"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400\">\r\n                  {[\"Terkini\", \"Harian\", \"Bulanan\", \"Tahunan\"].map((tab) => (\r\n                      <li key={tab} className=\"me-2\">\r\n                      <button\r\n                          onClick={() => setSelectedTabPendapatan(tab)}\r\n                          className={`inline-flex items-center justify-center p-3 sm:p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group transition-colors duration-200 text-sm sm:text-base ${\r\n                          selectedTabPendapatan === tab\r\n                              ? \"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500\"\r\n                              : \"border-transparent\"\r\n                          }`}\r\n                      >\r\n                          {tab}\r\n                      </button>\r\n                      </li>\r\n                  ))}\r\n                  </ul>\r\n              </div>\r\n              {selectedTabPendapatan === \"Terkini\" && (\r\n                  <Recent\r\n                  budgets={null}\r\n                  akun={accounts} \r\n                  transactions={pendapatan}\r\n                  onDelete={handleDeleteTransaction}\r\n                  onEdit={handleOpenEditTransactionModal}\r\n                  type={\"Akun\"}\r\n                  />\r\n              )}\r\n              {selectedTabPendapatan === \"Harian\" && (\r\n                  <FilterTransaksi\r\n                  budgets={null}\r\n                  akun={accounts} \r\n                  tab={\"Harian\"}\r\n                  transactions={pendapatan}\r\n                  setTransactions={setPendapatan}\r\n                  type={\"Akun\"}\r\n                  onDelete={handleDeleteTransaction}\r\n                  />\r\n              )}\r\n              {selectedTabPendapatan === \"Bulanan\" && (\r\n                  <FilterTransaksi\r\n                  budgets={null}\r\n                  akun={accounts} \r\n                  tab={\"Bulanan\"}\r\n                  transactions={pendapatan}\r\n                  setTransactions={setPendapatan}\r\n                  type={\"Akun\"}\r\n                  onDelete={handleDeleteTransaction}\r\n                  />\r\n              )}\r\n              {selectedTabPendapatan === \"Tahunan\" && (\r\n                  <FilterTransaksi\r\n                  budgets={null}\r\n                  akun={accounts} \r\n                  tab={\"Tahunan\"}\r\n                  transactions={pendapatan}\r\n                  setTransactions={setPendapatan}\r\n                  type={\"Akun\"}\r\n                  onDelete={handleDeleteTransaction}\r\n                  />\r\n              )}\r\n          </div>\r\n        </div>\r\n  \r\n        {/* Bagian Kanan - Grafik */}\r\n        <div className=\"w-full lg:w-2/6 px-0 sm:px-2 mt-8 lg:mt-0\">\r\n          <div className=\"flex flex-col\">\r\n            <h1 className=\"bg-gray-300 rounded-md text-base md:text-xl lg:text-2xl font-bold text-white mx-0 sm:mx-2 px-2 py-1 mb-2 w-full animate-fade-in-down\">\r\n              Graph Pengeluaran\r\n            </h1>\r\n            <ChartKeuangan transactions={transactions} type={\"expense\"} />\r\n          </div>\r\n          <div className=\"flex flex-col mt-5\">\r\n            <h1 className=\"bg-gray-300 rounded-md text-base md:text-xl lg:text-2xl font-bold text-white mx-0 sm:mx-2 px-2 py-1 mb-2 w-full animate-fade-in-down\">\r\n              Graph Pendapatan\r\n            </h1>\r\n            <ChartKeuangan transactions={pendapatan} type={\"income\"} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n          \r\n      {/* Modal Components */}\r\n      <ModalAddMonth\r\n        isOpen={isModalAddMonthOpen}\r\n        onClose={() => setIsModalAddMonthOpen(false)}\r\n        onAddMonth={handleAddMonth}\r\n      />\r\n      <ModalTransaksi\r\n        isOpen={isTransactionModalOpen}\r\n        onClose={() => setTransactionModalOpen(false)}\r\n        onSave={handleSaveTransaction}\r\n        initialData={selectedTransaction}\r\n        categories={categories}\r\n        accounts={accounts}\r\n      />\r\n      <ModalKategori\r\n        isOpen={isCategoryModalOpen}\r\n        onClose={() => setCategoryModalOpen(false)}\r\n        onSave={handleSaveCategory}\r\n        initialData={selectedCategory}\r\n      />\r\n      <ModalAkun \r\n        isOpen={isAccountModalOpen}\r\n        onClose={() => setAccountModalOpen(false)}\r\n        onSave={handleSaveAccount}\r\n        initialData={selectedAccount}\r\n      />\r\n      {isIconPickerOpen && (\r\n        <IconPickerModal\r\n            onClose={() => setIconPickerOpen(false)}\r\n            onSelect={handleIconSelect}\r\n        />\r\n    )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}